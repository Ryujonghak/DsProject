DROP SEQUENCE SQ_USER;
CREATE SEQUENCE SQ_USER
    START WITH 1
    INCREMENT BY 1
    MINVALUE 1
    MAXVALUE 99999999;

DROP SEQUENCE SQ_ROLE;
CREATE SEQUENCE SQ_ROLE
    START WITH 1
    INCREMENT BY 1
    MINVALUE 1
    MAXVALUE 99999999;

DROP SEQUENCE SQ_NOTICE;
CREATE SEQUENCE SQ_NOTICE
    START WITH 1
    INCREMENT BY 1
    MINVALUE 1
    MAXVALUE 99999999;

DROP SEQUENCE SQ_REVIEW;
CREATE SEQUENCE SQ_REVIEW
    START WITH 1
    INCREMENT BY 1
    MINVALUE 1
    MAXVALUE 99999999;

DROP SEQUENCE SQ_QNA;
CREATE SEQUENCE SQ_QNA
    START WITH 1
    INCREMENT BY 1
    MINVALUE 1
    MAXVALUE 99999999;

DROP SEQUENCE SQ_RESERV;
CREATE SEQUENCE SQ_RESERV
    START WITH 1
    INCREMENT BY 1
    MINVALUE 1
    MAXVALUE 99999999;

DROP SEQUENCE SQ_WISHLIST;
CREATE SEQUENCE SQ_WISHLIST
    START WITH 1
    INCREMENT BY 1
    MINVALUE 1
    MAXVALUE 99999999;


DROP TABLE TB_USER CASCADE CONSTRAINT;
DROP TABLE TB_ROLE CASCADE CONSTRAINT;
DROP TABLE TB_THEATER CASCADE CONSTRAINT;
DROP TABLE TB_QNA CASCADE CONSTRAINT;
DROP TABLE TB_REVIEW CASCADE CONSTRAINT;
DROP TABLE TB_NOTICE CASCADE CONSTRAINT;
DROP TABLE TB_SEAT CASCADE CONSTRAINT;
DROP TABLE TB_SCHEDULE CASCADE CONSTRAINT;
DROP TABLE TB_RESERVATION CASCADE CONSTRAINT;
DROP TABLE TB_WISHLIST CASCADE CONSTRAINT;

CREATE TABLE TB_USER
(
    ID          NUMBER NOT NULL PRIMARY KEY,
    USERNAME    VARCHAR2(255),
    EMAIL       VARCHAR2(255),
    PASSWORD    VARCHAR2(255),
    PHONE       VARCHAR2(255),
    YEAR        NUMBER,
    MONTH       NUMBER,
    DAY         NUMBER,
    NAME        VARCHAR2(255),
    ANSWER      VARCHAR2(50),
    DELETE_YN   VARCHAR2(1) DEFAULT 'N',
    INSERT_TIME VARCHAR2(255),
    UPDATE_TIME VARCHAR2(255),
    DELETE_TIME VARCHAR2(255)
);

CREATE TABLE TB_ROLE
(
    RID         NUMBER NOT NULL PRIMARY KEY,
    NAME        VARCHAR2(255) UNIQUE,
    DELETE_YN   VARCHAR2(1) DEFAULT 'N',
    INSERT_TIME VARCHAR2(255),
    UPDATE_TIME VARCHAR2(255),
    DELETE_TIME VARCHAR2(255)
);

CREATE TABLE TB_THEATER
(
--     극장고유번호
    TID       NUMBER,
--     극장/상영관명
    LOCATION  VARCHAR2(255),
--     삭제 플래그
    DELETE_YN VARCHAR2(1) DEFAULT 'N'
);

CREATE TABLE TB_QNA
(
--     QnA ID
    QID         NUMBER NOT NULL PRIMARY KEY,
--     QnA 작성자 ID
    QWRITER     VARCHAR2(255),
--     QnA 제목
    QTITLE      VARCHAR2(255),
--     QnA 내용
    QCONTENT    VARCHAR2(4000),
--     QnA 답변
    QANSWER     VARCHAR2(4000),
--     삭제플래그
    DELETE_YN   VARCHAR2(1) DEFAULT 'N',
--     작성일시
    INSERT_TIME VARCHAR2(255),
--     수정일시
    UPDATE_TIME VARCHAR2(255),
--     삭제일시
    DELETE_TIME VARCHAR2(255)
);

CREATE TABLE TB_REVIEW
(
--     리뷰순번 ID
    RID         NUMBER NOT NULL PRIMARY KEY,
--     리뷰작성자 ID
    RWUSER      VARCHAR2(255),
--     예매고유번호
    RESERVNO    NUMBER,
--     영화코드
    MOVIECD     VARCHAR2(255),
--     영화제목
    MOVIENM     VARCHAR2(255),
--     유져평점
    RURATING    NUMBER,
--     유저평
    RUCONTENT   VARCHAR2(4000),
--     삭제플래그
    DELETE_YN   VARCHAR2(1) DEFAULT 'N',
--     작성일시
    INSERT_TIME VARCHAR2(255),
--     수정일시
    UPDATE_TIME VARCHAR2(255),
--     삭제일시
    DELETE_TIME VARCHAR2(255)
);

CREATE TABLE TB_NOTICE
(
--     공지사항번호
    NNO         NUMBER NOT NULL PRIMARY KEY,
--     공지사항말머리
    NTYPE       VARCHAR2(255),
--     공지사항제목
    NTITLE      VARCHAR2(255),
--     공지사항내용
    NCONTENT    VARCHAR2(4000),
--     삭제플래그
    DELETE_YN   VARCHAR2(1) DEFAULT 'N',
--     작성일시
    INSERT_TIME VARCHAR2(255),
--     수정일시
    UPDATE_TIME VARCHAR2(255),
--     삭제일시
    DELETE_TIME VARCHAR2(255)
);

CREATE TABLE TB_SEAT
(
--     극장고유번호 (참조테이블: TB_THEATER)
    THEATERID    NUMBER NOT NULL PRIMARY KEY,
--     좌석위치
    SEATPOSITION VARCHAR2(2),
--     좌석상태
    SEATSTATUS   VARCHAR2(1),
--     삭제 플래그
    DELETE_YN    VARCHAR2(1) DEFAULT 'N'
);

CREATE TABLE TB_SCHEDULE
(
--     상영스케쥴 고유ID
    SID       NUMBER NOT NULL PRIMARY KEY,
--     상영관고유 ID (참조테이블: TB_THEATER)
    THEATERID NUMBER,
--     영화코드 (참조테이블: TB_MOVIE)
    MOVIECD   VARCHAR2(255),
--     영화제목 (참조테이블: TB_MOVIE)
    MOVIENM   VARCHAR2(255),
--     상영시작시간
    STARTTIME DATE,
--     상영종료시간
    ENDTIME   DATE,
--     삭제플래그
    DELETE_YN VARCHAR2(1) DEFAULT 'N'
);

CREATE TABLE TB_RESERVATION
(
--     예매고유번호
    RESERVNO   NUMBER NOT NULL PRIMARY KEY,
--     로그인ID (참조테이블: TB_USER)
    USERNAME   VARCHAR2(255),
--     상영스케쥴ID (참조테이블: TB_SCHEDULE)
    SCHEDULENO NUMBER,
--     영화코드 (참조테이블: TB_SCHEDULE)
    MOVIECD    VARCHAR2(255),
--     영화제목 (참조테이블: TB_SCHEDULE)
    MOVIENM    VARCHAR2(255),
--     관람인원
    RCOUNT     NUMBER,
--     결제금액
    PRICE      NUMBER,
--     결제일시
    PAIDDATE   DATE,
--     삭제플래그
    DELETE_YN  VARCHAR2(1) DEFAULT 'N'
);

CREATE TABLE TB_WISHLIST
(
    WID      NUMBER NOT NULL PRIMARY KEY,
    USERNAME VARCHAR2(255),
    MOVIECD  VARCHAR2(255)
);


COMMIT;