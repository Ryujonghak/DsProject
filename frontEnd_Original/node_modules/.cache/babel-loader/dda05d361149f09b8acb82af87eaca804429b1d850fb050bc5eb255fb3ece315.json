{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// import axios from \"axios\";   // 프로필이미지 업로드\nimport custom from \"@/assets/js/custom\";\nimport userService from \"@/services/user.service\";\nimport User from \"@/model/user\";\nexport default {\n  // data: () => ({\n  //   images: \"\",\n  // }),\n  data() {\n    return {\n      user: new User(),\n      checkanswer: \"\",\n      // 비번찾기문제 폼에 입력된 값\n      changePwd: false,\n      // 버튼 클릭시 true, 변경폼 나타남\n      changePwdForm: false,\n      message: \"\",\n      username: this.$store.state.auth.user.username,\n      password: \"\",\n      password2: \"\",\n      answer: \"\"\n      // name: this.user.name,\n    };\n  },\n\n  methods: {\n    // uploadImage: function () {\n    //   let form = new FormData();\n    //   let image = this.$refs[\"image\"].files[0];\n    //\n    //   form.append(\"image\", image);\n    //\n    //   axios\n    //     .post(\"/upload\", form, {\n    //       header: { \"Content-Type\": \"multipart/form-data\" },\n    //     })\n    //     .then(({ data }) => {\n    //       this.images = data;\n    //     })\n    //     .catch((err) => console.log(err));\n    // },\n    // clickInputTag: function () {\n    //   this.$refs[\"image\"].click();\n    // },\n\n    // 종학이 백엔드 데이터 받는 함수\n    getUser() {\n      // username = this.$store.state.auth.user.username;\n      console.log(\"username: \" + this.username);\n      userService.getUserUsername(this.username)\n      // .getUserUsername(this.$store.state.auth.user.username)\n      .then(response => {\n        this.user = response.data;\n        console.log(\"getUser this.user: \", this.user);\n        console.log(\"getUser response.data: \", response.data);\n      }).catch(err => console.log(err));\n    },\n    // 로그아웃 함수\n    logout() {\n      // this.$store.dispatch(\"모듈명/함수명\")\n      this.$store.dispatch(\"auth/logout\"); // 공통함수 logout 호출\n      this.$router.push(\"/\"); // 강제 홈페이지로 이동\n    },\n\n    // 회원정보수정\n    updateUser() {\n      // alert(\"updateUser 실행\")\n      // console.log(this.user);\n      console.log(\"update this.user: \", this.user);\n      // if()\n      this.changePwd = false; // 비번변경 여부\n      userService.update(this.user.id, this.changePwd, this.user).then(response => {\n        console.log(response.data);\n        this.message = \"유저 정보가 성공적으로 수정되었습니다!\";\n        alert(this.message);\n      }).catch(e => {\n        console.log(e);\n      });\n      // 수정완료시 그 전페이지로 강제이동\n      // this.$router.push(\"/mypage\");\n    },\n\n    // 패스워드 질문 일치여부\n    findPwd() {\n      // alert(\"findPwd 실행\")\n      if (this.answer == this.user.answer) {\n        userService.getFindByPassword(this.user.username, this.answer).then(response => {\n          console.log(\"response.data\", response.data);\n          this.user = response.data;\n          this.changePwdForm = true;\n          alert(\"비밀번호를 변경할 수 있습니다.\");\n        }).catch(e => {\n          console.log(e);\n          alert(\"비밀번호 답변이 정확하지 않습니다.\");\n        });\n      } else {\n        alert(\"비밀번호 답변이 정확하지 않습니다.\");\n      }\n    },\n    // 패스워드 변경\n    updatePwd() {\n      // alert(\"updatePwd 실행\")\n      if (this.password == this.password2) {\n        // console.log(this.user);\n        console.log(\"update this.user: \", this.user);\n        this.user.password = this.password;\n        // if()\n        this.changePwd = true; // 비번변경 여부\n        userService.update(this.user.id, this.changePwd, this.user).then(response => {\n          console.log(response.data);\n          this.message = \"유저 정보가 성공적으로 수정되었습니다!\";\n          alert(this.message);\n          this.logout();\n          this.$router.push(\"/\");\n        }).catch(e => {\n          console.log(e);\n        });\n      } else {\n        alert(\"비밀번호 확인이 정확하지 않습니다.\");\n      }\n\n      // 수정완료시 그 전페이지로 강제이동\n      // this.$router.push(\"/mypage\");\n    },\n\n    // 수빈이 회원삭제함수 참고\n    // 탈퇴버튼 클릭시 열리는 모달창\n    modal() {\n      // alert(\"모달 실행\");\n      // this.currentUser = this.user;\n      // this.currentUser = data;\n\n      // alert(this.currentUser)\n      const modal = document.getElementById(\"modal\");\n      modal.style.display = \"flex\";\n    },\n    // 탈퇴하기 - 모달창 버전\n    deleteUser() {\n      // alert(\"되나?\")\n      console.log(\"user.id\", this.user.id);\n      userService.delete(this.user.id).then(response => {\n        console.log(response.data);\n        // this.retrieveUser();\n        // this.user.splice(this.user.indexOf(this.user.id), 1);\n        console.log(this.user.id);\n        alert(\"탈퇴가 완료되었습니다.\");\n        const modal = document.getElementById(\"modal\");\n        modal.style.display = \"none\";\n        this.logout();\n        this.$router.push(\"/\");\n        // 모달 끄기\n      }).catch(e => {\n        console.log(e);\n        // window.location.reload();\n      });\n    }\n    // 모달창 없이 바로 탈퇴하기\n    // deleteId() {\n    //   userService\n    //     .delete(this.user.id)\n    //     .then((response) => {\n    //       console.log(response.data);\n    //       alert(\"탈퇴가 완료되었습니다.\");\n    //       this.logout();\n    //       this.$router.push(\"/\");\n    //     })\n    //     .catch((e) => {\n    //       console.log(e);\n    //     });\n    // },\n  },\n\n  mounted() {\n    custom();\n    this.getUser(); // 백엔드 데이터\n\n    // 모달창 관련\n    const modal = document.getElementById(\"modal\");\n    function modalOn() {\n      modal.style.display = \"flex\";\n    }\n    function isModalOn() {\n      return modal.style.display === \"flex\";\n    }\n    function modalOff() {\n      modal.style.display = \"none\";\n    }\n    const btnModal = document.getElementById(\"btn-modal\");\n    btnModal.addEventListener(\"click\", e => {\n      modalOn(e);\n    });\n    const closeBtn2 = modal.querySelector(\".closebtn\");\n    closeBtn2.addEventListener(\"click\", e => {\n      modalOff(e);\n    });\n    modal.addEventListener(\"click\", e => {\n      const evTarget = e.target;\n      if (evTarget.classList.contains(\"modal-overlay\")) {\n        modalOff(e);\n      }\n    });\n    window.addEventListener(\"keyup\", e => {\n      if (isModalOn() && e.key === \"Escape\") {\n        modalOff(e);\n      }\n    });\n  }\n};","map":{"version":3,"mappings":";AAwSA;AACA;AACA;AACA;AAEA;EACA;EACA;EACA;EACAA;IACA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;IAEA;EACA;;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACAC;MACA;MACAC;MACAC,YACAC;MACA;MAAA,CACAC;QACA;QACAH;QACAA;MACA,GACAI;IACA;IAEA;IACAC;MACA;MACA;MACA;IACA;;IAEA;IACAC;MACA;MACA;MACAN;MACA;MACA;MACAC,YACAM,gDACAJ;QACAH;QACA;QACAQ;MACA,GACAJ;QACAJ;MACA;MACA;MACA;IACA;;IACA;IACAS;MACA;MACA;QACAR,YACAS,mDACAP;UACAH;UACA;UACA;UACAQ;QACA,GACAJ;UACAJ;UACAQ;QACA;MACA;QACAA;MACA;IACA;IACA;IACAG;MACA;MACA;QACA;QACAX;QACA;QACA;QACA;QACAC,YACAM,gDACAJ;UACAH;UACA;UACAQ;UACA;UACA;QACA,GACAJ;UACAJ;QACA;MACA;QACAQ;MACA;;MAEA;MACA;IACA;;IAEA;IACA;IACAI;MACA;MACA;MACA;;MAEA;MACA;MACAA;IACA;IACA;IACAC;MACA;MACAb;MACAC,iCACAE;QACAH;QACA;QACA;QACAA;QACAQ;QACA;QACAI;QACA;QACA;QACA;MACA,GACAR;QACAJ;QACA;MACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;;EACAc;IACAC;IACA;;IAEA;IACA;IACA;MACAH;IACA;IACA;MACA;IACA;IACA;MACAA;IACA;IACA;IACAI;MACAC;IACA;IACA;IACAC;MACAC;IACA;IACAP;MACA;MACA;QACAO;MACA;IACA;IACAC;MACA;QACAD;MACA;IACA;EACA;AACA","names":["data","user","checkanswer","changePwd","changePwdForm","message","username","password","password2","answer","methods","getUser","console","userService","getUserUsername","then","catch","logout","updateUser","update","alert","findPwd","getFindByPassword","updatePwd","modal","deleteUser","mounted","custom","btnModal","modalOn","closeBtn2","modalOff","window"],"sourceRoot":"src/components/myPage","sources":["ProfileCom.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!--preloading-->\r\n    <!-- <div id=\"preloader\">\r\n      <img class=\"logo\" src=\"images/logo1.png\" alt=\"\" width=\"119\" height=\"58\" />\r\n      <div id=\"status\">\r\n        <span></span>\r\n        <span></span>\r\n      </div>\r\n    </div> -->\r\n\r\n    <!-- 상단 페이지 제목 -->\r\n    <div class=\"hero user-hero\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n            <div class=\"hero-ct\">\r\n              <h1>{{ user.name }}’s profile</h1>\r\n              <ul class=\"breadcumb\">\r\n                <li class=\"active\">\r\n                  <router-link to=\"/\">Home</router-link>\r\n                </li>\r\n                <li><span class=\"ion-ios-arrow-right\"></span>MY PROFILE</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"page-single\">\r\n      <div class=\"container\">\r\n        <div class=\"row ipad-width\">\r\n          <!-- todo: 이부분 나브 다른 Mypage 컴포넌트들 공통 - 여기만 프로필이미지변경 주석처리됨-->\r\n          <!-- 공통 왼쪽 메뉴 시작 -->\r\n          <div class=\"col-md-3 col-sm-12 col-xs-12\">\r\n            <div class=\"user-information\">\r\n              <!-- 프로필 이미지 업로드 추가 v-if -->\r\n              <div class=\"user-img\">\r\n                <img\r\n                    class=\"profileImg\"\r\n                    src=\"@/assets/images_choi/Views/choi/MovieDetail/user.png\"\r\n                    alt=\"\"\r\n                />\r\n                <!-- <img src=\"images/uploads/user-img.png\" alt=\"\" /> -->\r\n                <br/>\r\n                <!-- <a href=\"#\" class=\"redbtn\">Change avatar</a> -->\r\n                <!-- <a href=\"#\" class=\"redbtn\">프로필 수정</a> -->\r\n              </div>\r\n              <!-- 프로필 이미지 업로드 추가 v-else -->\r\n              <!-- <div\r\n                      v-else\r\n                      class=\"w-full h-full flex items-center justify-center cursor-pointer hover:bg-pink-100\"\r\n                      @click=\"clickInputTag()\"\r\n                  >\r\n                    <input\r\n                        ref=\"image\"\r\n                        id=\"input\"\r\n                        type=\"file\"\r\n                        name=\"image\"\r\n                        accept=\"image/*\"\r\n                        multiple=\"multiple\"\r\n                        class=\"hidden\"\r\n                        @change=\"uploadImage()\"\r\n                    />\r\n                    <svg\r\n                        class=\"w-8 h-8\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        fill=\"none\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        stroke=\"currentColor\"\r\n                    >\r\n                      <path\r\n                          stroke-linecap=\"round\"\r\n                          stroke-linejoin=\"round\"\r\n                          stroke-width=\"2\"\r\n                          d=\"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                      />\r\n                    </svg>\r\n                  </div> -->\r\n              <div class=\"user-fav\">\r\n                <ul>\r\n                  <li class=\"active\">\r\n                    <router-link to=\"\">프로필</router-link>\r\n                  </li>\r\n                  <!-- 프로필 로그인 정보 표시 시작-->\r\n                  <li style=\"color: white\">\r\n                    <strong style=\"color: white\">이름 : </strong>\r\n                    <label>{{ user.name }}</label>\r\n                  </li>\r\n                  <li style=\"color: white\">\r\n                    <strong style=\"color: white\">아이디 : </strong>\r\n                    <label>{{ user.username }}</label>\r\n                  </li>\r\n                  <!-- 프로필 로그인 정보 표시 끝 -->\r\n                </ul>\r\n              </div>\r\n              <div class=\"user-fav\">\r\n                <p>Account Details</p>\r\n                <ul>\r\n                  <li>\r\n                    <router-link to=\"/mypage\">내정보</router-link>\r\n                  </li>\r\n                  <li>\r\n                    <router-link to=\"/myticket\">예매내역</router-link>\r\n                  </li>\r\n                  <li>\r\n                    <router-link to=\"/mywish\">찜한 영화</router-link>\r\n                  </li>\r\n                  <li>\r\n                    <router-link to=\"/myqna\">나의 문의내역</router-link>\r\n                  </li>\r\n                  <li class=\"active\">\r\n                    <router-link to=\"/myprofile\">개인정보 수정</router-link>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div class=\"user-fav\">\r\n                <p>Others</p>\r\n                <ul>\r\n                  <li><a href=\"#\" @click.prevent=\"logout\">Log out</a></li>\r\n                  <li><a href=\"#\" @click=\"modal()\">탈퇴하기</a></li>\r\n                  <!-- <li><a href=\"#\" @click=\"deleteId()\">탈퇴하기</a></li> -->\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- 공통 왼쪽 메뉴 끝 -->\r\n\r\n          <!-- 오른쪽 본문 내용 -->\r\n          <div class=\"col-md-9 col-sm-12 col-xs-12\">\r\n            <div class=\"form-style-1 user-pro\" action=\"\">\r\n              <form action=\"\" class=\"user\">\r\n                <h4>프로필</h4>\r\n                <div class=\"row\">\r\n                  <div class=\"col-md-6 form-it\">\r\n                    <label>이름</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"홍길동\"\r\n                        class=\"form-control\"\r\n                        id=\"name\"\r\n                        v-model=\"user.name\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"col-md-6 form-it\">\r\n                    <label>아이디</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"영문자 6자 이상\"\r\n                        class=\"form-control\"\r\n                        id=\"username\"\r\n                        v-model=\"user.username\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col-md-6 form-it\">\r\n                    <label>이메일</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"hong@gmail.com\"\r\n                        class=\"form-control\"\r\n                        id=\"email\"\r\n                        v-model=\"user.email\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"col-md-6 form-it\">\r\n                    <label>전화번호</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"010-1234-5678\"\r\n                        class=\"form-control\"\r\n                        id=\"phone\"\r\n                        v-model=\"user.phone\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 저장 버튼 -->\r\n                <div class=\"row\">\r\n                  <div class=\"col-md-2\">\r\n                    <input\r\n                        @click=\"updateUser\"\r\n                        class=\"submit\"\r\n                        type=\"button\"\r\n                        value=\"저장하기\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </form>\r\n\r\n              <!-- 비밀번호 수정 -->\r\n              <form action=\"\" class=\"password\">\r\n                <h4>비밀번호</h4>\r\n                <div class=\"row\">\r\n                  <div class=\"col-md-6 form-it\">\r\n                    <label>비밀번호 확인용 질문</label>\r\n                    <select>\r\n                      <option value=\"pwquestion\">질문을 선택하세요</option>\r\n                      <option value=\"pwquestion\">나의 고향은?</option>\r\n                      <option value=\"pwquestion\">어머니의 성함은?</option>\r\n                      <option value=\"pwquestion\">아버지의 성함은?</option>\r\n                    </select>\r\n                  </div>\r\n                  <div class=\"col-md-6 form-it\">\r\n                    <!--                    TODO: label 에 for=\"answer\" 추가 -->\r\n                    <!--                    TODO: v-model에 Current.answer하면 백엔연동시 답이 뜨므로 숨겨야 함...\r\n                                                  폼에 입력된 값이랑 회원데이터값 비교해서 맞으면 changePwdForm 떠야하는데... -->\r\n                    <label for=\"answer\">비밀번호 확인용 정답</label>\r\n                    <input\r\n                        id=\"answer\"\r\n                        type=\"text\"\r\n                        placeholder=\"정답을 한글로 입력하세요\"\r\n\r\n                        v-model=\"answer\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <!--                 TODO: 비밀번호 질문 정답 제출버튼 -> 버튼 클릭시 변경폼 보이도록 (type = button) -->\r\n                <div class=\"row\">\r\n                  <div class=\"col-md-2\">\r\n                    <!--                      TODO: @click=\"findpwd\"-->\r\n                    <input\r\n                        class=\"submit\"\r\n                        type=\"button\"\r\n                        value=\"정답확인\"\r\n                        @click=\"findPwd\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <br/>\r\n                <br/>\r\n                <!-- TODO: 질문의 정답이 일치하면 아래 div 보이도록...ㅋ : v-show=\"changePwdForm\"  class=\"pwcheck\"-->\r\n                <div v-show=\"changePwdForm\" class=\"pwcheck\">\r\n                  <!--                <div>-->\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-6 form-it\">\r\n                      <label for=\"password\">변경할 비밀번호</label>\r\n                      <input\r\n                          type=\"password\"\r\n                          placeholder=\"영문자, 숫자, 특수문자 조합 8~12자리\"\r\n                          class=\"form-control\"\r\n                          v-model=\"password\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div class=\"col-md-6 form-it\">\r\n                      <label>비밀번호 확인</label>\r\n                      <input\r\n                          type=\"password\"\r\n                          placeholder=\"비밀번호를 재입력해주세요\"\r\n                          v-model=\"password2\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <!-- 제출 버튼 -->\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-2\">\r\n                      <!--                      TODO: 비밀번호 변경 클릭 이벤트 : updatePwd -->\r\n                      <input\r\n                          class=\"submit\"\r\n                          type=\"button\"\r\n                          @click=\"updatePwd\"\r\n                          value=\"변경하기\"\r\n                      />\r\n                      <!-- <p>{{ message }}</p> --> \r\n                      <!-- 메세지 내용을 alert 사용할 예정(류종학_230108) -->\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n      <!-- 모달 테스트 시작 -->\r\n      <div id=\"modal\" class=\"modal-overlay\">\r\n        <div class=\"modal-window\">\r\n          <div class=\"col-xs-12\" style=\"padding-top: 5%\">\r\n            <div class=\"title col-xs-12\">\r\n              <h6>회원정보가 삭제됩니다. <br>탈퇴하시겠습니까? </h6>\r\n            </div>\r\n          </div>\r\n          <div class=\"content col-xs-12\" style=\"text-align: center\">\r\n            <a id=\"btn-modal\" class=\"closebtn col-xs-6\">아니요</a>\r\n            <a id=\"btn-modal\" class=\"finbtn col-xs-6\" @click=\"deleteUser\">예</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- 모달 테스트 끝 -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import axios from \"axios\";   // 프로필이미지 업로드\r\nimport custom from \"@/assets/js/custom\";\r\nimport userService from \"@/services/user.service\";\r\nimport User from \"@/model/user\";\r\n\r\nexport default {\r\n  // data: () => ({\r\n  //   images: \"\",\r\n  // }),\r\n  data() {\r\n    return {\r\n      user: new User(),\r\n      checkanswer: \"\", // 비번찾기문제 폼에 입력된 값\r\n      changePwd: false, // 버튼 클릭시 true, 변경폼 나타남\r\n      changePwdForm: false,\r\n      message: \"\",\r\n      username: this.$store.state.auth.user.username,\r\n      password: \"\",\r\n      password2: \"\",\r\n      answer: \"\",\r\n      // name: this.user.name,\r\n\r\n    };\r\n  },\r\n  methods: {\r\n    // uploadImage: function () {\r\n    //   let form = new FormData();\r\n    //   let image = this.$refs[\"image\"].files[0];\r\n    //\r\n    //   form.append(\"image\", image);\r\n    //\r\n    //   axios\r\n    //     .post(\"/upload\", form, {\r\n    //       header: { \"Content-Type\": \"multipart/form-data\" },\r\n    //     })\r\n    //     .then(({ data }) => {\r\n    //       this.images = data;\r\n    //     })\r\n    //     .catch((err) => console.log(err));\r\n    // },\r\n    // clickInputTag: function () {\r\n    //   this.$refs[\"image\"].click();\r\n    // },\r\n\r\n    // 종학이 백엔드 데이터 받는 함수\r\n    getUser() {\r\n      // username = this.$store.state.auth.user.username;\r\n      console.log(\"username: \" + this.username);\r\n      userService\r\n          .getUserUsername(this.username)\r\n          // .getUserUsername(this.$store.state.auth.user.username)\r\n          .then((response) => {\r\n            this.user = response.data;\r\n            console.log(\"getUser this.user: \", this.user);\r\n            console.log(\"getUser response.data: \", response.data);\r\n          })\r\n          .catch((err) => console.log(err));\r\n    },\r\n\r\n    // 로그아웃 함수\r\n    logout() {\r\n      // this.$store.dispatch(\"모듈명/함수명\")\r\n      this.$store.dispatch(\"auth/logout\"); // 공통함수 logout 호출\r\n      this.$router.push(\"/\"); // 강제 홈페이지로 이동\r\n    },\r\n\r\n    // 회원정보수정\r\n    updateUser() {\r\n      // alert(\"updateUser 실행\")\r\n      // console.log(this.user);\r\n      console.log(\"update this.user: \", this.user);\r\n      // if()\r\n      this.changePwd = false; // 비번변경 여부\r\n      userService\r\n          .update(this.user.id, this.changePwd, this.user)\r\n          .then((response) => {\r\n            console.log(response.data);\r\n            this.message = \"유저 정보가 성공적으로 수정되었습니다!\";\r\n            alert(this.message);\r\n          })\r\n          .catch((e) => {\r\n            console.log(e);\r\n          });\r\n      // 수정완료시 그 전페이지로 강제이동\r\n      // this.$router.push(\"/mypage\");\r\n    },\r\n    // 패스워드 질문 일치여부\r\n    findPwd() {\r\n      // alert(\"findPwd 실행\")\r\n      if (this.answer == this.user.answer) {\r\n        userService\r\n            .getFindByPassword(this.user.username, this.answer)\r\n            .then((response) => {\r\n              console.log(\"response.data\", response.data);\r\n              this.user = response.data;\r\n              this.changePwdForm = true;\r\n              alert(\"비밀번호를 변경할 수 있습니다.\")\r\n            })\r\n            .catch((e) => {\r\n              console.log(e);\r\n              alert(\"비밀번호 답변이 정확하지 않습니다.\")\r\n            })\r\n      } else {\r\n        alert(\"비밀번호 답변이 정확하지 않습니다.\")\r\n      }\r\n    },\r\n    // 패스워드 변경\r\n    updatePwd() {\r\n      // alert(\"updatePwd 실행\")\r\n      if(this.password == this.password2) {\r\n        // console.log(this.user);\r\n        console.log(\"update this.user: \", this.user);\r\n        this.user.password = this.password;\r\n        // if()\r\n        this.changePwd = true; // 비번변경 여부\r\n        userService\r\n            .update(this.user.id, this.changePwd, this.user)\r\n            .then((response) => {\r\n              console.log(response.data);\r\n              this.message = \"유저 정보가 성공적으로 수정되었습니다!\";\r\n              alert(this.message);\r\n              this.logout();\r\n              this.$router.push(\"/\");\r\n            })\r\n            .catch((e) => {\r\n              console.log(e);\r\n            });\r\n      } else {\r\n        alert(\"비밀번호 확인이 정확하지 않습니다.\")\r\n      }\r\n\r\n      // 수정완료시 그 전페이지로 강제이동\r\n      // this.$router.push(\"/mypage\");\r\n    },\r\n\r\n    // 수빈이 회원삭제함수 참고\r\n    // 탈퇴버튼 클릭시 열리는 모달창\r\n    modal(){\r\n      // alert(\"모달 실행\");\r\n      // this.currentUser = this.user;\r\n      // this.currentUser = data;\r\n\r\n      // alert(this.currentUser)\r\n      const modal = document.getElementById(\"modal\");\r\n      modal.style.display=\"flex\";\r\n    },\r\n    // 탈퇴하기 - 모달창 버전\r\n    deleteUser() {\r\n      // alert(\"되나?\")\r\n      console.log(\"user.id\", this.user.id)\r\n      userService.delete(this.user.id)\r\n        .then((response) => {\r\n          console.log(response.data);\r\n          // this.retrieveUser();\r\n          // this.user.splice(this.user.indexOf(this.user.id), 1);\r\n          console.log(this.user.id)\r\n          alert(\"탈퇴가 완료되었습니다.\");\r\n          const modal = document.getElementById(\"modal\");\r\n          modal.style.display = \"none\";\r\n          this.logout();\r\n          this.$router.push(\"/\");\r\n          // 모달 끄기\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n          // window.location.reload();\r\n        });\r\n    },\r\n    // 모달창 없이 바로 탈퇴하기\r\n    // deleteId() {\r\n    //   userService\r\n    //     .delete(this.user.id)\r\n    //     .then((response) => {\r\n    //       console.log(response.data);\r\n    //       alert(\"탈퇴가 완료되었습니다.\");\r\n    //       this.logout();\r\n    //       this.$router.push(\"/\");\r\n    //     })\r\n    //     .catch((e) => {\r\n    //       console.log(e);\r\n    //     });\r\n    // },\r\n  },\r\n  mounted() {\r\n    custom();\r\n    this.getUser(); // 백엔드 데이터\r\n\r\n    // 모달창 관련\r\n    const modal = document.getElementById(\"modal\");\r\n    function modalOn() {\r\n      modal.style.display = \"flex\";\r\n    }\r\n    function isModalOn() {\r\n      return modal.style.display === \"flex\";\r\n    }\r\n    function modalOff() {\r\n      modal.style.display = \"none\";\r\n    }\r\n    const btnModal = document.getElementById(\"btn-modal\");\r\n    btnModal.addEventListener(\"click\", (e) => {\r\n      modalOn(e);\r\n    });\r\n    const closeBtn2 = modal.querySelector(\".closebtn\");\r\n    closeBtn2.addEventListener(\"click\", (e) => {\r\n      modalOff(e);\r\n    });\r\n    modal.addEventListener(\"click\", (e) => {\r\n      const evTarget = e.target;\r\n      if (evTarget.classList.contains(\"modal-overlay\")) {\r\n        modalOff(e);\r\n      }\r\n    });\r\n    window.addEventListener(\"keyup\", (e) => {\r\n      if (isModalOn() && e.key === \"Escape\") {\r\n        modalOff(e);\r\n      }\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 배경이미지 : 아리걸로 통일 */\r\n.user-hero {\r\n  background: url(@/assets/images_jung/movie-theater02.jpg) no-repeat;\r\n  /* height: 598px; */\r\n  width: 100%;\r\n}\r\n\r\n/* 마이페이지-프로필 이미지크기 수정 */\r\n.profileImg {\r\n  -ms-interpolation-mode: bicubic;\r\n  border: 0;\r\n  /* height: auto; */\r\n  max-height: 120px;\r\n  /* max-width: 100%; */\r\n  max-width: 120px;\r\n  vertical-align: middle;\r\n}\r\n\r\n\r\n/* 모달 */\r\n/* 테스트 */\r\n#modal.modal-overlay {\r\n  /* width: 100%;\r\n  height: 100%; */\r\n  width: 100%;\r\n  height: 2000px;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  display: none;\r\n  /* display: flex; */\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  /* background: rgba(255, 255, 255, 0.25); */\r\n  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);\r\n  /* backdrop-filter: blur(1.5px); */\r\n  /* -webkit-backdrop-filter: blur(1.5px); */\r\n  border-radius: 10px;\r\n  /* border: 1px solid rgba(255, 255, 255, 0.18); */\r\n}\r\n#modal .modal-window {\r\n  background: white;\r\n  /* background: rgba(69, 139, 197, 0.7); */\r\n  /* box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37); */\r\n  /* backdrop-filter: blur(13.5px);\r\n  -webkit-backdrop-filter: blur(13.5px); */\r\n  border-radius: 5px;\r\n  border: 1px solid rgba(255, 255, 255, 0.18);\r\n  width: 20%;\r\n  height: 7%;\r\n  position: relative;\r\n  top: -265px;\r\n  padding: 10px;\r\n}\r\n#modal .title {\r\n  padding-left: 0;\r\n  display: inline;\r\n  font-size: 5%;\r\n  color: black;\r\n}\r\n#modal .title h2 {\r\n  display: inline;\r\n}\r\n#modal .close-area {\r\n  display: inline;\r\n  float: right;\r\n  padding-right: 0;\r\n  margin-right: 0;\r\n  cursor: pointer;\r\n  /* border: 200px; */\r\n  /* text-shadow: 1px 1px 2px black; */\r\n  color: grey;\r\n}\r\n\r\n#modal .content {\r\n  margin-top: 20px;\r\n  padding: 0px 10px;\r\n  /* text-shadow: 1px 1px 2px gray; */\r\n  color: black;\r\n}\r\n\r\n#modal .closebtn {\r\n  font-family: \"Dosis\", sans-serif;\r\n  font-size: 100%;\r\n  text-align: center;\r\n  color: black;\r\n  font-weight: bold;\r\n  text-transform: uppercase;\r\n  width: 48%;\r\n  /* height: 1%; */\r\n  background-color: grey;\r\n  padding: 3% 7%;\r\n  margin-top: 7%;\r\n  margin-right: 4%;\r\n  border-radius: 5px;\r\n}\r\n\r\n#modal .finbtn {\r\n  font-family: \"Dosis\", sans-serif;\r\n  font-size: 100%;\r\n  text-align: center;\r\n  color: black;\r\n  font-weight: bold;\r\n  text-transform: uppercase;\r\n  width: 48%;\r\n  /* height: 1%; */\r\n  background-color: #dd003f;\r\n  padding: 3% 7%;\r\n  margin-top: 7%;\r\n  margin-right: 0%;\r\n  border-radius: 5px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}