{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport ReservationDataService from \"@/services/ReservationDataService\";\nexport default {\n  data() {\n    return {\n      board: false,\n      reservation: [],\n      detailReservation: false,\n      detailRes: [],\n      username: \"\",\n      // 페이징을 위한 변수 정의\n      page: 1,\n      // 현재 페이지\n      count: 0,\n      // 전체 데이터 건수\n      pageSize: 5 // 한페이지당 몇개를 화면에 보여줄지 결정하는 변수\n    };\n  },\n\n  methods: {\n    logout() {\n      this.$store.dispatch(\"auth/logout\");\n      this.$router.push(\"/\");\n    },\n    //왼쪽 메뉴바 slide효과\n    boardclick() {\n      this.board = !this.board;\n    },\n    //전체조회 함수\n    retreiveReservation() {\n      ReservationDataService.getAll(this.page - 1, this.pageSize).then(response => {\n        const reservation = response.data;\n        this.reservation = reservation;\n        console.log(response.data);\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    //유저네임검색 \n    findbyUsername() {\n      ReservationDataService.getUsernameReservation(this.username, this.page - 1, this.pageSize).then(response => {\n        console.log(response.data);\n        const reservation = response.data;\n        this.reservation = reservation;\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    //상세보기 조회함수\n    checkingReservation(reservno) {\n      this.detailReservation = !this.detailReservation;\n      ReservationDataService.getReservation(reservno).then(response => {\n        this.detailRes = response.data[0];\n        console.log(this.detailRes);\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    handlePageChange(value) {\n      this.page = value; // 매개변수값으로 현재페이지 변경\n      this.retreiveReservation();\n    }\n  },\n  mounted() {\n    this.retreiveReservation();\n    // this.findbyUsername();\n  }\n};","map":{"version":3,"mappings":";AAmLA;AAEA;EACAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MAEA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;;EACAC;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IAEA;IACAC;MACAC,4DACAC;QACA;QACA;QACAC;MACA,GACAC;QACAD;MACA;IACA;IAEA;IACAE;MACAJ,2FACAC;QACAC;QACA;QACA;MAEA,GACAC;QACAD;MACA;IACA;IAEA;IACAG;MACA;MACAL,gDACAC;QACA;QACAC;MACA,GACAC;QACAD;MACA;IACA;IAEAI;MACA;MACA;IACA;EACA;EACAC;IACA;IACA;EACA;AACA","names":["data","board","reservation","detailReservation","detailRes","username","page","count","pageSize","methods","logout","boardclick","retreiveReservation","ReservationDataService","then","console","catch","findbyUsername","checkingReservation","handlePageChange","mounted"],"sourceRoot":"src/components/admin","sources":["PaymentAdmin.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"hero user-hero\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n            <div class=\"hero-ct\">\r\n              <h1>ADMIN PAGE</h1>\r\n              <h4>예매내역 관리 페이지</h4>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"page-single\">\r\n      <div class=\"container\">\r\n        <div class=\"row ipad-width2\">\r\n          <!-- <!— 왼쪽 메뉴바 시작 —> -->\r\n          <div class=\"col-md-3 col-sm-12 col-xs-12\">\r\n            <div class=\"user-information\">\r\n              <div class=\"user-fav\">\r\n                <p>관리자 목록</p>\r\n                <ul>\r\n                  <li>\r\n                    <router-link to=\"/userInfoAdmin\">회원관리</router-link>\r\n                  </li>\r\n                  <li>\r\n                    <a href=\"#\"></a>\r\n                    <a\r\n                      class=\"btn btn-default dropdown-toggle\"\r\n                      data-toggle=\"dropdown\"\r\n                      @click=\"boardclick\"\r\n                    >\r\n                      게시판관리\r\n                      <i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i>\r\n                    </a>\r\n                    <ul class=\"dropdown\" v-show=\"board\">\r\n                      <li>\r\n                        <router-link to=\"/board-admin\"\r\n                          >공지사항 관리</router-link\r\n                        >\r\n                      </li>\r\n                      <li>\r\n                        <router-link to=\"/movie-admin\">영화 관리</router-link>\r\n                      </li>\r\n                      <li>\r\n                        <router-link to=\"/review-admin\">리뷰관리</router-link>\r\n                      </li>\r\n                      <li>\r\n                        <router-link to=\"/qna-admin\">QnA 답변관리</router-link>\r\n                      </li>\r\n                    </ul>\r\n                  </li>\r\n                  <li>\r\n                    <router-link to=\"/schedule-admin\">스케쥴 관리</router-link>\r\n                  </li>\r\n                  <li class=\"active\">\r\n                    <router-link to=\"/payment-admin\">예매 내역</router-link>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div class=\"user-fav\">\r\n                <ul>\r\n                  <li><a href=\"#\" @click=\"logout\">Log out</a></li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- <!— 왼쪽 메뉴바 끝 —> -->\r\n\r\n          <div class=\"col-md-9 col-sm-12 col-xs-12\">\r\n            <div class=\"topbar-filter\" style=\"justify-content:flex-end;\">\r\n              <input\r\n                id=\"select_value\"\r\n                name=\"inputBox\"\r\n                type=\"text\"\r\n                placeholder=\"id를 입력하세요.\"\r\n                style=\"width: 20%\"\r\n                v-model=\"username\"\r\n              />\r\n              <button class=\"searchbtn\"\r\n              @click=\"\r\n              page = 1;\r\n              findbyUsername();\r\n            \">검색하기</button>\r\n            </div>\r\n            <!-- 전체정렬 -->\r\n            <!--리뷰 테이블 관리 시작 (list)  -->\r\n            <div class=\"movie-item-style-2 userrate\">\r\n              <div class=\"mv-item-infor\">\r\n                <table class=\"notice_table\">\r\n                  <colgroup>\r\n                    <col style=\"width: 10%\" />\r\n                    <col style=\"width: 10%\" />\r\n                    <col style=\"width: 20%\" />\r\n                    <col style=\"width: 10%\" />\r\n                    <col style=\"width: 10%\" />\r\n                    <col style=\"width: 10%\" />\r\n                    <col style=\"width: 10%\" />\r\n                  </colgroup>\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">예매번호</th>\r\n                      <th scope=\"col\">ID</th>\r\n                      <th scope=\"col\">영화명</th>\r\n                      <th scope=\"col\">인원</th>\r\n                      <th scope=\"col\">결제가격</th>\r\n                      <th scope=\"col\">결제시간</th>\r\n                      <th scope=\"col\">상세정보</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr\r\n                      v-for=\"(data, index) in reservation.reservation\"\r\n                      v-bind:key=\"index\"\r\n                    >\r\n                      <td>{{ data.reservno }}</td>\r\n                      <td>{{ data.username }}</td>\r\n                      <td>{{ data.movienm }}</td>\r\n                      <td>{{ data.rcount }}</td>\r\n                      <td>{{ data.price }}</td>\r\n                      <td>{{ data.insertTime }}</td>\r\n                      <td><button class=\"detailbtn\" @click=\"checkingReservation(data.reservno)\">상세정보</button></td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n            <!--리뷰 테이블 관리 테이블 끝  -->\r\n          </div>\r\n\r\n          <!-- 상세보기 페이지  시작-->\r\n          <div\r\n          v-show=\"detailReservation\"\r\n            class=\"detail\"\r\n            style=\"color: aliceblue\"\r\n          >\r\n            <h4 style=\"margin-left: 15%\">상세보기</h4>\r\n            <ul style=\"margin-left: 30%\">\r\n              <li>ID : {{ detailRes.username }}</li>\r\n              <li>이름 : {{ detailRes.name }}</li>\r\n              <li>예매고유번호 : {{ detailRes.reservno }}</li>\r\n              <li>영화제목 : {{ detailRes.movienm }}</li>\r\n              <li>영화코드 : {{ detailRes.moviecd }}</li>\r\n              <li>상영관 : {{ detailRes.location }}</li>\r\n              <li>관람인원 : {{ detailRes.rcount }} 명</li>\r\n              <li>결제가격 : {{ detailRes.price }} 원</li>\r\n              <li>결제시간 : {{ detailRes.insertTime }} </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <!-- 상세보기 페이지 끝  -->\r\n          <!-- <!— 페이징 + 전체 목록 시작 —> -->\r\n          <!-- <!— 페이징 양식 시작 —> -->\r\n          <div class=\"col-md-12\">\r\n            <b-pagination\r\n              v-model=\"page\"\r\n              :total-rows=\"reservation.totalItems\"\r\n              :per-page=\"pageSize\"\r\n              prev-text=\"Prev\"\r\n              next-text=\"Next\"\r\n              @change=\"handlePageChange\"\r\n            ></b-pagination>\r\n          </div>\r\n          <!-- <!— 페이징 양식 끝 —> -->\r\n          <!-- 필터 페이지네이션 -->\r\n\r\n          <!-- 끝 -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- TODO: 탑버튼 추가_정주희 -->\r\n    <a class=\"topbutton\" href=\"#\">\r\n      <img src=\"@/assets/images_jung/iconUp_48.png\"/>\r\n    </a>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ReservationDataService from \"@/services/ReservationDataService\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      board: false,\r\n      reservation: [],\r\n      detailReservation: false,\r\n      detailRes: [],\r\n      username:\"\",\r\n\r\n      // 페이징을 위한 변수 정의\r\n      page: 1, // 현재 페이지\r\n      count: 0, // 전체 데이터 건수\r\n      pageSize: 5, // 한페이지당 몇개를 화면에 보여줄지 결정하는 변수\r\n    };\r\n  },\r\n  methods: {\r\n    logout() {\r\n      this.$store.dispatch(\"auth/logout\");\r\n      this.$router.push(\"/\");\r\n    },\r\n    //왼쪽 메뉴바 slide효과\r\n    boardclick() {\r\n      this.board = !this.board;\r\n    },\r\n\r\n    //전체조회 함수\r\n    retreiveReservation() {\r\n      ReservationDataService.getAll(this.page - 1, this.pageSize)\r\n        .then((response) => {\r\n          const reservation = response.data;\r\n          this.reservation = reservation;\r\n          console.log(response.data);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n\r\n    //유저네임검색 \r\n    findbyUsername(){\r\n      ReservationDataService.getUsernameReservation(this.username,this.page - 1, this.pageSize)\r\n        .then((response) => {\r\n          console.log(response.data);\r\n          const reservation = response.data;\r\n          this.reservation = reservation;\r\n\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n\r\n    //상세보기 조회함수\r\n    checkingReservation(reservno){ \r\n      this.detailReservation = !this.detailReservation;\r\n      ReservationDataService.getReservation(reservno)\r\n      .then((response) => {\r\n          this.detailRes = response.data[0];\r\n          console.log(this.detailRes);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n\r\n    handlePageChange(value) {\r\n      this.page = value; // 매개변수값으로 현재페이지 변경\r\n      this.retreiveReservation();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.retreiveReservation();\r\n    // this.findbyUsername();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nth {\r\n  color: aliceblue;\r\n  border: 1px solid aliceblue;\r\n  //border-right: 2px solid aliceblue;\r\n  text-align: center;\r\n}\r\ntd {\r\n  color: aliceblue;\r\n  border-bottom: 1px solid aliceblue;\r\n  text-align: center;\r\n  vertical-align: middle !important;\r\n}\r\n.deletebtn {\r\n  background: #dd003f;\r\n  color: aliceblue;\r\n  border-radius: 3px !important;\r\n  box-shadow: none !important;\r\n  width: 50%;\r\n}\r\nbutton {\r\n  border: none !important;\r\n}\r\nbutton:active {\r\n  outline: none !important;\r\n  box-shadow: none !important;\r\n}\r\n\r\n.user-hero {\r\n  height: 385px;\r\n  // background: url(\"../images/uploads/user-hero-bg.jpg\") no-repeat;\r\n  background: url(\"../../assets/images_kang/Components/common/Navcom/back-img-test16.png\") no-repeat;\r\n}\r\nh4 {\r\n  color: aliceblue;\r\n  margin-right: 10%;\r\n}\r\n.detailbtn {\r\n  background: rgb(255, 255, 0);\r\n  color: black;\r\n  border-radius: 20px;\r\n  vertical-align: middle !important;\r\n}\r\n\r\n.searchbtn{\r\n  box-sizing: border-box;\r\n  border-radius: 4px;\r\n  border: none !important;\r\n  color:black !important;\r\n  text-align: center;\r\n  vertical-align: middle;\r\n  background-color: #F5B409;\r\n  display: inline !important;\r\n  padding: 6px 12px;\r\n}\r\ninput{\r\n  border-radius: 4px;\r\n  margin-right: 2%;\r\n  background:inherit;\r\n  color: aliceblue;\r\n}\r\n\r\n.topbar-filter {\r\n  border-top: none !important;\r\n\r\n}\r\n\r\n/* 탑버튼 추가 _정주희 */\r\n.topbutton {\r\n  position: fixed;\r\n  bottom: 15px;\r\n  right: 15px;\r\n  width: 40px;\r\n  height: 40px;\r\n  z-index: 1;\r\n  opacity: 0.8;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}