{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport MovieDataService from \"@/services/MovieDataService\";\nexport default {\n  mounted() {\n    this.retrieveMovie();\n  },\n  data() {\n    return {\n      board: false,\n      movie: [],\n      searchMname: \"\",\n      selectedValue: [],\n      // 페이징을 위한 변수 정의\n      page: 1,\n      // 현재 페이지\n      count: 0,\n      // 전체 데이터 건수\n      pageSize: 5 // 한페이지당 몇개를 화면에 보여줄지 결정하는 변수\n    };\n  },\n\n  methods: {\n    retrieveMovie() {\n      MovieDataService.getMovieDetailAll(this.searchMname, this.page - 1, this.pageSize).then(response => {\n        const movie = response.data;\n        this.movie = movie;\n        console.log(response.data);\n        // console.log(this.movie);\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    handlePageChange(value) {\n      this.page = value; // 매개변수값으로 현재페이지 변경\n      this.retrieveMovie();\n    },\n    logout() {\n      this.$store.dispatch(\"auth/logout\");\n      this.$router.push(\"/\");\n    },\n    //왼쪽 메뉴바 slide효과\n    boardclick() {\n      this.board = !this.board;\n    },\n    // delete 버튼 클릭시 실행됨\n    deleteMovie(data) {\n      this.data = data;\n      MovieDataService.delete(this.data.id).then(response => {\n        console.log(response.data);\n        alert(\"삭제되었습니다.\");\n        this.retrieveMovie();\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    //무비목록 개봉일순\n    // getMovieAsc(){\n    //   MovieDataService.getMovieAsc(\n    //      this.page - 1,\n    //     this.pageSize\n    //   )\n    //   .then((response) => {\n    //       console.log(response.data);\n    //       window.location.reload();\n    //     })\n    //     .catch((e) => {\n    //       console.log(e);\n    //     });\n    // },\n\n    //무비목록 개봉일역순\n    getMovieDesc() {\n      if (this.selectedValue == \"dateDesc\") {\n        MovieDataService.getMovieDesc(this.page - 1, this.pageSize).then(response => {\n          const movie = response.data;\n          this.movie = movie;\n          console.log(response.data);\n        }).catch(e => {\n          console.log(e);\n        });\n      } else {\n        MovieDataService.getMovieAsc(this.page - 1, this.pageSize).then(response => {\n          const movie = response.data;\n          this.movie = movie;\n          console.log(response.data);\n        }).catch(e => {\n          console.log(e);\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";AAwKA;AAEA;EACAA;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MAEA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;;EACAC;IAEAC;MACAC,mCACA,kBACA,eACA,cACA,CACAC;QACA;QACA;QACAC;QACA;MACA,GACAC;QACAD;MACA;IACA;IACAE;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;MACAP,sCACAC;QACAC;QACAM;QACA;MACA,GACAL;QACAD;MACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACAO;MACA;QACAT,8BACA,eACA,cACA,CACAC;UACA;UACA;UACAC;QACA,GACAC;UACAD;QACA;MACA;QACAF,6BACA,eACA,cACA,CACAC;UACA;UACA;UACAC;QACA,GACAC;UACAD;QACA;MACA;IACA;EACA;AACA","names":["mounted","data","board","movie","searchMname","selectedValue","page","count","pageSize","methods","retrieveMovie","MovieDataService","then","console","catch","handlePageChange","logout","boardclick","deleteMovie","alert","getMovieDesc"],"sourceRoot":"src/components/admin","sources":["MovieAdmin.vue"],"sourcesContent":["<template>\r\n  <!-- 수빈언니데이터 -->\r\n  <div>\r\n    <div class=\"hero user-hero\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n            <div class=\"hero-ct\">\r\n              <h1>ADMIN PAGE</h1>\r\n              <h4>영화 관리 페이지</h4>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"page-single\">\r\n      <div class=\"container\">\r\n        <div class=\"row ipad-width2\">\r\n          <!-- <!— 왼쪽 메뉴바 시작 —> -->\r\n          <div class=\"col-md-3 col-sm-12 col-xs-12\">\r\n            <div class=\"user-information\">\r\n              <div class=\"user-fav\">\r\n                <p>관리자 목록</p>\r\n                <ul>\r\n                  <li>\r\n                    <router-link to=\"/userInfoAdmin\">회원관리</router-link>\r\n                  </li>\r\n                  <li>\r\n                    <a href=\"#\"></a>\r\n                    <a\r\n                      class=\"btn btn-default dropdown-toggle\"\r\n                      data-toggle=\"dropdown\"\r\n                      @click=\"boardclick\"\r\n                    >\r\n                      게시판관리\r\n                      <i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i>\r\n                    </a>\r\n                    <ul class=\"dropdown\" v-show=\"board\">\r\n                      <li>\r\n                        <router-link to=\"/board-admin\"\r\n                          >공지사항 관리</router-link\r\n                        >\r\n                      </li>\r\n                      <li class=\"active\">\r\n                        <router-link to=\"/movie-admin\">영화 관리</router-link>\r\n                      </li>\r\n                      <li>\r\n                        <router-link to=\"/review-admin\">리뷰관리</router-link>\r\n                      </li>\r\n                      <li>\r\n                        <router-link to=\"/qna-admin\">QnA 답변관리</router-link>\r\n                      </li>\r\n                    </ul>\r\n                  </li>\r\n                  <li>\r\n                    <router-link to=\"/schedule-admin\">스케쥴 관리</router-link>\r\n                  </li>\r\n                  <li>\r\n                    <router-link to=\"/payment-admin\">예매 내역</router-link>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div class=\"user-fav\">\r\n                <ul>\r\n                  <li><a href=\"#\" @click=\"logout\">Log out</a></li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- <!— 왼쪽 메뉴바 끝 —> -->\r\n\r\n          <!-- 전체정렬 -->\r\n\r\n          <!-- 본문 시작 -->\r\n          <!-- 새 영화관리 테이블 시작 -->\r\n          <div class=\"page-single movie_list\">\r\n            <div class=\"container\">\r\n              <div class=\"row ipad-width2\">\r\n                <div class=\"col-md-8 col-sm-12 col-xs-12\">\r\n                  <div class=\"topbar-filter\">\r\n                    <div class=\"fiter\" style=\"width:40% !important;\">\r\n                    <label>Sort by:</label>\r\n                    <select v-model=\"selectedValue\" v-on:change=\"getMovieDesc()\">\r\n                      <!-- <option value=\"dateAll\" >전체보기</option> -->\r\n                      <option value=\"dateDesc\" >개봉일자 최신순</option>\r\n                      <option value=\"dateAsc\" >개봉일자 오래된순</option>\r\n                    </select>\r\n                  </div>\r\n                    <button class=\"regbtn\" style=\"width: 15%;\">\r\n                      <router-link to=\"/addMovie-admin\"\r\n                        >새 영화 등록</router-link\r\n                      >\r\n                    </button>\r\n                  </div>\r\n                  <div\r\n                    class=\"movie-item-style-2\"\r\n                    v-for=\"(data, index) in movie.MovieDetail\"\r\n                    v-bind:key=\"index\">\r\n                    <img :src=\"data.posterurln\" alt=\"poster\" />\r\n                    <div class=\"mv-item-infor\">\r\n                      <h6>\r\n                        영화이름:\r\n                        <a href=\"#\">{{ data.movienm }}</a>\r\n                        <span>({{ data.prdtyear }})</span>\r\n                      </h6>\r\n                      <p class=\"rate\">\r\n                        평점:\r\n                        <a href=\"#\">{{ data.raiting }}</a>\r\n                      </p>\r\n                      <p class=\"describe\">\r\n                        줄거리:\r\n                        {{ data.plot }}\r\n                      </p>\r\n                      <p class=\"run-time\">\r\n                        상영시간: {{ data.showtm }} 분\r\n                        <span>관람등급 : {{ data.watchgradenm }}</span>\r\n                        <span>개봉일자: {{ data.opendt }}</span>\r\n                        장르 : {{ data.genrenm }}\r\n                      </p>\r\n                      <p>\r\n                        개봉예정여부:\r\n                        <a href=\"#\"> {{ data.prdtstatnm }}</a>\r\n                      </p>\r\n                      <p>\r\n                        감독: <a href=\"#\">{{ data.directors }}</a>\r\n                      </p>\r\n                      <p>\r\n                        출연진:\r\n                        <a href=\"#\"> {{ data.actor }}</a>\r\n                      </p>\r\n                      <button class=\"redbtn\" @click=\"deleteMovie(data)\">삭제</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 새 영화관리 테이블 끝  -->\r\n          <!-- 본문 끝 -->\r\n\r\n          <!-- <!— 페이징 + 전체 목록 시작 —> -->\r\n          <!-- <!— 페이징 양식 시작 —> -->\r\n          <div class=\"col-md-12\">\r\n            <b-pagination\r\n              v-model=\"page\"\r\n              :total-rows=\"movie.totalItems\"\r\n              :per-page=\"pageSize\"\r\n              prev-text=\"Prev\"\r\n              next-text=\"Next\"\r\n              @change=\"handlePageChange\"\r\n            ></b-pagination>\r\n          </div>\r\n          <!-- <!— 페이징 양식 끝 —> -->\r\n          <!-- 필터 페이지네이션 -->\r\n\r\n          <!-- 끝 -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- TODO: 탑버튼 추가_정주희 -->\r\n    <a class=\"topbutton\" href=\"#\">\r\n      <img src=\"@/assets/images_jung/iconUp_48.png\"/>\r\n    </a>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MovieDataService from \"@/services/MovieDataService\";\r\n\r\nexport default {\r\n  mounted() {\r\n    this.retrieveMovie();\r\n  },\r\n  data() {\r\n    return {\r\n      board: false,\r\n      movie: [],\r\n      searchMname: \"\",\r\n      selectedValue:[],\r\n\r\n      // 페이징을 위한 변수 정의\r\n      page: 1, // 현재 페이지\r\n      count: 0, // 전체 데이터 건수\r\n      pageSize: 5, // 한페이지당 몇개를 화면에 보여줄지 결정하는 변수\r\n    };\r\n  },\r\n  methods: {\r\n\r\n    retrieveMovie() {\r\n      MovieDataService.getMovieDetailAll(\r\n        this.searchMname,\r\n        this.page - 1,\r\n        this.pageSize\r\n      )\r\n        .then((response) => {\r\n          const movie = response.data;\r\n          this.movie = movie;\r\n          console.log(response.data);\r\n          // console.log(this.movie);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    handlePageChange(value) {\r\n      this.page = value; // 매개변수값으로 현재페이지 변경\r\n      this.retrieveMovie();\r\n    },\r\n    logout() {\r\n      this.$store.dispatch(\"auth/logout\");\r\n      this.$router.push(\"/\");\r\n    },\r\n\r\n    //왼쪽 메뉴바 slide효과\r\n    boardclick() {\r\n      this.board = !this.board;\r\n    },\r\n\r\n    // delete 버튼 클릭시 실행됨\r\n    deleteMovie(data) {\r\n      this.data = data;\r\n        MovieDataService.delete(this.data.id)\r\n        .then((response) => {\r\n          console.log(response.data);\r\n          alert(\"삭제되었습니다.\")\r\n          this.retrieveMovie();\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n\r\n    //무비목록 개봉일순\r\n    // getMovieAsc(){\r\n    //   MovieDataService.getMovieAsc(\r\n    //      this.page - 1,\r\n    //     this.pageSize\r\n    //   )\r\n    //   .then((response) => {\r\n    //       console.log(response.data);\r\n    //       window.location.reload();\r\n    //     })\r\n    //     .catch((e) => {\r\n    //       console.log(e);\r\n    //     });\r\n    // },\r\n\r\n     //무비목록 개봉일역순\r\n     getMovieDesc(){\r\n      if(this.selectedValue ==\"dateDesc\"){\r\n      MovieDataService.getMovieDesc(\r\n         this.page - 1,\r\n        this.pageSize\r\n      )\r\n      .then((response) => {\r\n        const movie= response.data;\r\n        this.movie = movie;\r\n          console.log(response.data);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n      }else{\r\n        MovieDataService.getMovieAsc(\r\n         this.page - 1,\r\n        this.pageSize\r\n      )\r\n      .then((response) => {\r\n        const movie= response.data;\r\n        this.movie = movie;\r\n          console.log(response.data);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nh4 {\r\n  color: aliceblue;\r\n  margin-right: 10%;\r\n}\r\nh6 {\r\n  color: aliceblue;\r\n}\r\n.redbtn {\r\n  height: 1% !important;\r\n  float: right !important;\r\n  box-shadow: none !important;\r\n}\r\n.regbtn {\r\n  // margin-top: 2% !important;\r\n  background: #F5B409;\r\n  color: black !important;\r\n  width: 10%;\r\n  border-radius: 5px;\r\n  padding: 1%;\r\n  margin-bottom: 1%;\r\n}\r\nbutton {\r\n  border: none !important;\r\n}\r\nbutton:active {\r\n  outline: none !important;\r\n  box-shadow: none !important;\r\n}\r\n.topbar-filter select {\r\n  width: 215px;\r\n  // -webkit-appearance: none;\r\n  // -moz-appearance: none;\r\n  float: right !important;\r\n  background: url(../../../public/images/uploads/drop-icon.png) no-repeat right 20px center;\r\n  border-left: none !important;\r\n  border-right: px solid #405266;\r\n  border-top: none;\r\n  border-bottom: none !important;\r\n  color: #ffffff;\r\n  font-weight: 400;\r\n}\r\n.topbar-filter {\r\n  justify-content: space-between !important;\r\n  border-top: none !important;\r\n}\r\n.user-hero {\r\n  height: 385px;\r\n  // background: url(\"../images/uploads/user-hero-bg.jpg\") no-repeat;\r\n  background: url(\"../../assets/images_kang/Components/common/Navcom/back-img-test16.png\") no-repeat;\r\n}\r\n\r\n/* 탑버튼 추가 _정주희 */\r\n.topbutton {\r\n  position: fixed;\r\n  bottom: 15px;\r\n  right: 15px;\r\n  width: 40px;\r\n  height: 40px;\r\n  z-index: 1;\r\n  opacity: 0.8;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}