{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\n// import axios from \"axios\";   // 프로필이미지 업로드\nimport custom from \"@/assets/js/custom\";\nimport userService from \"@/services/user.service\";\nimport User from \"@/model/user\";\nimport WishlistDataService from \"@/services/WishlistDataService\";\nimport MovieDetail from \"@/views/choi/MovieDetail.vue\";\nimport MovieDataService from \"@/services/MovieDataService\";\nexport default {\n  // data: () => ({\n  //   images: \"\",\n  // }),\n  data() {\n    return {\n      wishlist: null,\n      username: this.$store.state.auth.user.username,\n      user: new User(),\n      message: \"\",\n      movie: [],\n      totalMovie: 0,\n      opendt: \"20\",\n      emptyWish: true,\n      //페이징을 위한 변수 정의\n      // page: 1,\n      // count: 0,\n      // pageSize: 5,\n      // pageSizes: [5, 10, 15],\n      // searchSelect: \"\", // 기본값\n      // searchKeyword: \"\" ,\n      selected: \"\",\n      prdtyear: \"\"\n    };\n  },\n  methods: {\n    // 찜한 결과 가져오기\n    getWishlist() {\n      WishlistDataService\n      // .getUsernameMovie(this.$store.state.auth.user.username)\n      .getUsernameMovie(this.username).then(res => {\n        this.wishlist = res.data;\n        this.totalMovie = this.wishlist.length;\n        this.findWish(); // 찜한 내역 확인함수 추가\n\n        console.log(this.$store.state.auth.user.username);\n        console.log(this.$route.params.moviecd);\n        // console.log(res.data);\n        console.log(\"wishlist: \", this.wishlist);\n        // alert(\"get\");\n        // this.getMovie();\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    // 위시리스트 영화 opendt로 검색\n    getOpendtWishlist() {\n      WishlistDataService.getOpendtMovie(this.opendt).then(res => {\n        this.wishlist = res.data;\n        this.totalMovie = this.wishlist.length;\n        console.log(this.$store.state.auth.user.username);\n        console.log(this.$route.params.moviecd);\n        // console.log(res.data);\n        console.log(\"wishlist: \", this.wishlist);\n        // alert(\"get\");\n        // this.getMovie();\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    findWish() {\n      if (this.wishlist.length == 0) {\n        this.emptyWish = true;\n      } else {\n        this.emptyWish = false;\n      }\n      console.log(\"findWish\", this.wishlist);\n    },\n    getUser() {\n      // username = this.$store.state.auth.user.username;\n      console.log(\"username: \" + this.username);\n      userService.getUserUsername(this.username).then(response => {\n        this.user = response.data;\n        console.log(\"getUser this.user: \", this.user);\n        // console.log(\"getUser response.data: \", response.data);\n      }).catch(err => console.log(err));\n    },\n    // 로그아웃 함수 -> 공통함수 호출\n    logout() {\n      // this.$store.dispatch(\"모듈명/함수명\")\n      this.$store.dispatch(\"auth/logout\"); // 공통함수 logout 호출\n      this.$router.push(\"/\"); // 강제 홈페이지로 이동\n    }\n\n    // 페이지 출력 갯수 변경\n    // handlePageChange(value) {\n    // this.page = value;\n    // this.getQna();\n    // },\n  },\n\n  mounted() {\n    custom();\n    this.getUser(); // 종학이 백엔드 데이터\n    this.getWishlist();\n  }\n};","map":{"version":3,"mappings":";AAqKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;EAEA;EACA;EACA;EACAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEAC;MAGA;MACA;MACA;MACA;MACA;MACA;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACAC;MACAC;MACA;MAAA,CACAC,gCACAC;QACA;QACA;QACA;;QAGAC;QACAA;QACA;QACAA;QACA;QACA;MACA,GACAC;QACAD;MACA;IACA;IACA;IACAE;MACAL,oBACAM,4BACAJ;QACA;QACA;QAEAC;QACAA;QACA;QACAA;QACA;QACA;MACA,GACAC;QACAD;MACA;IACA;IACAI;MACA;QACA;MACA;QACA;MACA;MACAJ;IACA;IAEAK;MACA;MACAL;MACAM,YACAC,+BACAR;QACA;QACAC;QACA;MACA,GACAC;IACA;IACA;IACAO;MACA;MACA;MACA;IACA;;IAEA;IACA;IACA;IACA;IACA;EAEA;;EACAC;IACAC;IACA;IACA;EACA;AACA","names":["data","wishlist","username","user","message","movie","totalMovie","opendt","emptyWish","selected","prdtyear","methods","getWishlist","WishlistDataService","getUsernameMovie","then","console","catch","getOpendtWishlist","getOpendtMovie","findWish","getUser","userService","getUserUsername","logout","mounted","custom"],"sourceRoot":"src/components/myPage","sources":["WishCom.vue"],"sourcesContent":["<template>\r\n  <div v-if=\"wishlist != null\">\r\n    <!--preloading-->\r\n    <!-- <div id=\"preloader\">\r\n      <img class=\"logo\" src=\"images/logo1.png\" alt=\"\" width=\"119\" height=\"58\" />\r\n      <div id=\"status\">\r\n        <span></span>\r\n        <span></span>\r\n      </div>\r\n    </div> -->\r\n\r\n    <!-- 상단 페이지 제목 -->\r\n    <div class=\"hero user-hero\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n            <div class=\"hero-ct\">\r\n              <h1>{{ user.name }}’s wish</h1>\r\n              <ul class=\"breadcumb\">\r\n                <li class=\"active\">\r\n                  <router-link to=\"/\">Home</router-link>\r\n                </li>\r\n                <li><span class=\"ion-ios-arrow-right\"></span>MY WISH</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"page-single\">\r\n      <div class=\"container\">\r\n        <div class=\"row ipad-width\">\r\n          <!-- todo: 이부분 나브 다른 Mypage 컴포넌트들 공통 -->\r\n          <!-- 공통 왼쪽 메뉴 시작 -->\r\n          <div class=\"col-md-3 col-sm-12 col-xs-12\">\r\n            <div class=\"user-information\">\r\n              <div class=\"user-img\">\r\n                <!-- src=\"images/uploads/user-img.png\" -->\r\n                <img class=\"profileImg\" src=\"@/assets/images_choi/Views/choi/MovieDetail/user.png\" alt=\"\"/>\r\n                <br/>\r\n              </div>\r\n              <div class=\"user-fav\">\r\n                <ul>\r\n                  <li class=\"active\">\r\n                    <router-link to=\"\">프로필</router-link>\r\n                  </li>\r\n                  <!-- 프로필 로그인 정보 표시 시작-->\r\n                  <li style=\"color: white\">\r\n                    <strong style=\"color: white\">이름 </strong>\r\n                    <label>{{ user.name }}</label>\r\n                  </li>\r\n                  <li style=\"color: white\">\r\n                    <strong style=\"color: white\">아이디 </strong>\r\n                    <label>{{ user.username }}</label>\r\n                  </li>\r\n                  <!-- 프로필 로그인 정보 표시 끝 -->\r\n                </ul>\r\n              </div>\r\n              <div class=\"user-fav\">\r\n                <p>Account Details</p>\r\n                <ul>\r\n                  <li>\r\n                    <router-link to=\"/mypage\">내정보</router-link>\r\n                  </li>\r\n                  <li>\r\n                    <router-link to=\"/myticket\">예매내역</router-link>\r\n                  </li>\r\n                  <li class=\"active\">\r\n                    <router-link to=\"/mywish\">찜한 영화</router-link>\r\n                  </li>\r\n                  <li>\r\n                    <router-link to=\"/myqna\">나의 문의내역</router-link>\r\n                  </li>\r\n                  <li>\r\n                    <router-link to=\"/myprofile\">개인정보 수정</router-link>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div class=\"user-fav\">\r\n                <p>Others</p>\r\n                <ul>\r\n                  <!--                  <li><a href=\"#\">Log out</a></li>-->\r\n                  <li><a href=\"#\" @click.prevent=\"logout\">Log out</a></li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- 공통 왼쪽 메뉴 끝 -->\r\n          <!-- 오른쪽 본문 내용 -->\r\n          <div class=\"col-md-9 col-sm-12 col-xs-12\">\r\n            <div class=\"topbar-filter user\" id=\"portfolio-filters\">\r\n              <!-- <p>나의 찜한 영화 <span>{{ totalMovie }}</span> in total</p> -->\r\n              <p class=\"mytitle\">나의 찜한 영화 <span>{{ totalMovie }}</span> in total</p>\r\n              <select class=\"form-select\" \r\n              v-model=\"opendt\"\r\n              @change=\"getOpendtWishlist\"\r\n              >\r\n                <option selected value=\"20\"> 전체 </option>\r\n                <option value=\"2023\"> 2023 </option>\r\n                <option value=\"2022\"> 2022 </option>\r\n              </select>\r\n            </div>\r\n\r\n            <div v-if=\"emptyWish == true\" class=\"noWish\">\r\n              <h3>찜한 영화가 없습니다.</h3>\r\n            </div>\r\n\r\n            <div class=\"flex-wrap-movielist\" v-if=\"emptyWish == false\">\r\n              <!-- 상영작 1 -->\r\n              <div\r\n                  class=\"movie-item-style-2 movie-item-style-1 portfolio-item 2022\"\r\n                  v-for=\"(data, index) in wishlist\" :key=\"index\"\r\n              >\r\n                <img :src=\"data.posterurln\" alt=\"poster\"/>\r\n                <!-- 영화에 마우스 올리면 나오는 상세페이지 이동 버튼 -->\r\n                <div class=\"hvr-inner\">\r\n                  <!-- <router-link to=\"/reserveTicket\">\r\n                    예매하기 <i class=\"ion-android-arrow-dropright\"></i>\r\n                  </router-link> -->\r\n                  <router-link\r\n                      :to=\"'/SeatTest/' + data.moviecd\"\r\n                      >예매하기 \r\n                      <i class=\"ion-android-arrow-dropright\"></i\r\n                    ></router-link>\r\n                </div>\r\n                <!-- 제목 -->\r\n                <div class=\"mv-item-infor\">\r\n\r\n                  <router-link :to=\"'/allMovie/' + data.moviecd\">\r\n                    <h6><a>{{ data.movienm }}({{ data.opendt }})</a></h6>\r\n                  </router-link>\r\n\r\n                  <p class=\"rate\">\r\n                    <i class=\"ion-android-star\"></i><span>{{ data.raiting }}</span> /10\r\n                    <!-- <i class=\"ion-android-star\"></i><span>{{ movie.userRating }}</span> /10 -->\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- 페이지 -->\r\n            <!-- <b-pagination\r\n                v-model=\"page\"\r\n                :total-rows=\"qna.totalItems\"\r\n                :per-page=\"pageSize\"\r\n                pills\r\n                size=\"sm\"\r\n                prev-text=\"<\"\r\n                next-text=\">\"\r\n                @change=\"handlePageChange\"\r\n            ></b-pagination> -->\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- TODO: 탑버튼 추가 -->\r\n    <a class=\"topbutton\" href=\"#\">\r\n      <img src=\"@/assets/images_jung/iconUp_48.png\"/>\r\n    </a>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable */\r\n// import axios from \"axios\";   // 프로필이미지 업로드\r\nimport custom from \"@/assets/js/custom\";\r\nimport userService from \"@/services/user.service\";\r\nimport User from \"@/model/user\";\r\nimport WishlistDataService from \"@/services/WishlistDataService\";\r\nimport MovieDetail from \"@/views/choi/MovieDetail.vue\";\r\nimport MovieDataService from \"@/services/MovieDataService\";\r\n\r\nexport default {\r\n\r\n  // data: () => ({\r\n  //   images: \"\",\r\n  // }),\r\n  data() {\r\n    return {\r\n      wishlist: null,\r\n      username: this.$store.state.auth.user.username,\r\n      user: new User(),\r\n      message: \"\",\r\n      movie: [],\r\n      totalMovie: 0,\r\n      opendt: \"20\",\r\n      \r\n      emptyWish: true,  \r\n\r\n\r\n      //페이징을 위한 변수 정의\r\n      // page: 1,\r\n      // count: 0,\r\n      // pageSize: 5,\r\n      // pageSizes: [5, 10, 15],\r\n      // searchSelect: \"\", // 기본값\r\n      // searchKeyword: \"\" ,\r\n      selected: \"\",\r\n      prdtyear: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    // 찜한 결과 가져오기\r\n    getWishlist() {\r\n      WishlistDataService\r\n          // .getUsernameMovie(this.$store.state.auth.user.username)\r\n          .getUsernameMovie(this.username)\r\n          .then((res) => {\r\n            this.wishlist = res.data;\r\n            this.totalMovie = this.wishlist.length;\r\n            this.findWish();  // 찜한 내역 확인함수 추가\r\n\r\n\r\n            console.log(this.$store.state.auth.user.username);\r\n            console.log(this.$route.params.moviecd);\r\n            // console.log(res.data);\r\n            console.log(\"wishlist: \", this.wishlist);\r\n            // alert(\"get\");\r\n            // this.getMovie();\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n    },\r\n    // 위시리스트 영화 opendt로 검색\r\n    getOpendtWishlist() {\r\n      WishlistDataService\r\n          .getOpendtMovie(this.opendt)\r\n          .then((res) => {\r\n            this.wishlist = res.data;\r\n            this.totalMovie = this.wishlist.length;\r\n\r\n            console.log(this.$store.state.auth.user.username);\r\n            console.log(this.$route.params.moviecd);\r\n            // console.log(res.data);\r\n            console.log(\"wishlist: \", this.wishlist);\r\n            // alert(\"get\");\r\n            // this.getMovie();\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n    },\r\n    findWish() {\r\n      if(this.wishlist.length == 0) {\r\n        this.emptyWish = true;\r\n      } else {\r\n        this.emptyWish = false;\r\n      }\r\n      console.log(\"findWish\", this.wishlist);\r\n    },\r\n\r\n    getUser() {\r\n      // username = this.$store.state.auth.user.username;\r\n      console.log(\"username: \" + this.username);\r\n      userService\r\n          .getUserUsername(this.username)\r\n          .then((response) => {\r\n            this.user = response.data;\r\n            console.log(\"getUser this.user: \", this.user);\r\n            // console.log(\"getUser response.data: \", response.data);\r\n          })\r\n          .catch((err) => console.log(err));\r\n    },\r\n    // 로그아웃 함수 -> 공통함수 호출\r\n    logout() {\r\n      // this.$store.dispatch(\"모듈명/함수명\")\r\n      this.$store.dispatch(\"auth/logout\"); // 공통함수 logout 호출\r\n      this.$router.push(\"/\"); // 강제 홈페이지로 이동\r\n    },\r\n\r\n    // 페이지 출력 갯수 변경\r\n    // handlePageChange(value) {\r\n    // this.page = value;\r\n    // this.getQna();\r\n    // },\r\n    \r\n  },\r\n  mounted() {\r\n    custom();\r\n    this.getUser(); // 종학이 백엔드 데이터\r\n    this.getWishlist();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 배경이미지 : 아리걸로 통일 */\r\n.user-hero {\r\n  background: url(@/assets/images_jung/movie-theater02.jpg) no-repeat;\r\n  /* height: 598px; */\r\n  width: 100%;\r\n}\r\n\r\n/* 마이페이지-프로필 이미지크기 수정 */\r\n.profileImg {\r\n  -ms-interpolation-mode: bicubic;\r\n  border: 0;\r\n  /* height: auto; */\r\n  max-height: 120px;\r\n  /* max-width: 100%; */\r\n  max-width: 120px;\r\n  vertical-align: middle;\r\n}\r\n\r\n/* TODO: 탑버튼 추가 */\r\n.topbutton {\r\n  position: fixed;\r\n  bottom: 15px;\r\n  right: 15px;\r\n  width: 40px;\r\n  height: 40px;\r\n  z-index: 1;\r\n  opacity: 0.8;\r\n}\r\n\r\n/* 찜한내역없음 */\r\n.noWish {\r\n  color:lightslategray;\r\n}\r\n\r\n.mytitle{\r\n  color: azure;\r\n}\r\n\r\n/* 셀렉트박스 화살표 */\r\n.topbar-filter select{\r\n  width: 35% !important;\r\n  background: url(../../../public/images/uploads/drop-icon.png) no-repeat right 20px center;\r\n\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}