{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport QnaDataService from \"@/services/QnaDataService\";\nexport default {\n  data() {\n    return {\n      question: [],\n      textarea: \"\",\n      searchSelect: \"\",\n      searchKeyword: \"\",\n      registerQna: false,\n      board: false,\n      editQna: [],\n      currentQna: null,\n      checkQna: false,\n      qnaanswer: \"\",\n      replyQna: {},\n      //페이징을 위한 변수 정의\n      page: 1,\n      count: 0,\n      pageSize: 5,\n      pageSizes: [3, 6, 9]\n    };\n  },\n  methods: {\n    logout() {\n      this.$store.dispatch(\"auth/logout\");\n      this.$router.push(\"/\");\n    },\n    handlePageChange(value) {\n      this.page = value;\n      this.retrieveQna();\n    },\n    //전체조회\n    retrieveQna() {\n      QnaDataService.getAll(this.searchSelect, this.searchKeyword, this.page - 1, this.pageSize).then(response => {\n        this.question = response.data;\n        console.log(response.data);\n        console.log(this.question);\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    //왼쪽 메뉴바 slide효과\n    boardclick() {\n      this.board = !this.board;\n    },\n    //답변 등록하기 버튼 클릭시\n    registerAnswer() {\n      if (this.qnaanswer != \"\") {\n        this.editQna.qanswer = this.qnaanswer;\n        QnaDataService.update(this.editQna.qid, this.editQna).then(response => {\n          // var test = this.editQna;\n          // alert(JSON.stringify(test));\n          console.log(response.data);\n          alert(\"답변이 완료되었습니다.\");\n          this.registerQna = false;\n          this.qnaanswer = \"\";\n          this.retrieveQna();\n        }).catch(e => {\n          console.log(e);\n        });\n      } else {\n        alert(\"내용을 입력해주세요.\");\n        this.successAnswer = false;\n      }\n    },\n    //답변하기 버튼 클릭시\n    setActiveNotice(data, index) {\n      this.editQna = data;\n      this.currentIndex = index;\n      this.registerQna = !this.registerQna;\n      this.successAnswer = false;\n      // var test = this.editQna;\n      // alert(JSON.stringify(test));\n    },\n\n    //삭제하기 버튼 클릭시\n    deleteQna(qid) {\n      // this.currentQna = data;\n      // var test = this.currentQna.qid;\n      // alert(JSON.stringify(test));\n      QnaDataService.delete(qid).then(response => {\n        console.log(response.data);\n        alert(\"삭제되었습니다.\");\n        this.retrieveQna();\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    //qna 확인창da\n    checkingQna(qid) {\n      this.checkQna = !this.checkQna;\n      QnaDataService.get(qid).then(response => {\n        this.replyQna = response.data[0];\n        console.log(this.replyQna);\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n  },\n  mounted() {\n    this.retrieveQna();\n  }\n};","map":{"version":3,"mappings":";AAiOA;AACA;EACAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEAC;MAEA;MACAC;MACAC;MACAC;MAEAC;IACA;EACA;EACAC;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACAC,sBACA,mBACA,oBACA,eACA,cACA,CACAC;QACA;QACAC;QACAA;MACA,GACAC;QACAD;MACA;IACA;IAEA;IACAE;MACA;IACA;IAEA;IACAC;MACA;QACA;QACAL,sDACAC;UACA;UACA;UACAC;UACAI;UACA;UACA;UACA;QACA,GACAH;UACAD;QACA;MACA;QACAI;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA;;IAEA;IACAC;MACA;MACA;MACA;MACAR,2BACAC;QACAC;QACAI;QACA;MACA,GACAH;QACAD;MACA;IACA;IAEA;IACAO;MACA;MACAT,wBACAC;QACA;QACAC;MACA,GACAC;QACAD;MACA;IACA;EACA;EACAQ;IACA;EACA;AACA","names":["data","question","textarea","searchSelect","searchKeyword","registerQna","board","editQna","currentQna","checkQna","qnaanswer","replyQna","page","count","pageSize","pageSizes","methods","logout","handlePageChange","retrieveQna","QnaDataService","then","console","catch","boardclick","registerAnswer","alert","setActiveNotice","deleteQna","checkingQna","mounted"],"sourceRoot":"src/components/admin","sources":["QnaAdmin.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"hero user-hero\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n            <div class=\"hero-ct\">\r\n              <h1>ADMIN PAGE</h1>\r\n              <h4>QnA 관리 페이지</h4>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"page-single\">\r\n      <div class=\"container\">\r\n        <div class=\"row ipad-width2\">\r\n          <!-- <!— 왼쪽 메뉴바 시작 —> -->\r\n          <div class=\"col-md-3 col-sm-12 col-xs-12\">\r\n            <div class=\"user-information\">\r\n              <div class=\"user-fav\">\r\n                <p>관리자 목록</p>\r\n                <ul>\r\n                  <li>\r\n                    <router-link to=\"/userInfoAdmin\">회원관리</router-link>\r\n                  </li>\r\n                  <li>\r\n                    <a href=\"#\"></a>\r\n                    <a\r\n                      class=\"btn btn-default dropdown-toggle\"\r\n                      data-toggle=\"dropdown\"\r\n                      @click=\"boardclick\"\r\n                    >\r\n                      게시판관리\r\n                      <i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i>\r\n                    </a>\r\n                    <ul class=\"dropdown\" v-show=\"board\">\r\n                      <li>\r\n                        <router-link to=\"/board-admin\"\r\n                          >공지사항 관리</router-link\r\n                        >\r\n                      </li>\r\n                      <li>\r\n                        <router-link to=\"/movie-admin\">영화 관리</router-link>\r\n                      </li>\r\n                      <li>\r\n                        <router-link to=\"/review-admin\">리뷰관리</router-link>\r\n                      </li>\r\n                      <li class=\"active\">\r\n                        <router-link to=\"/qna-admin\">QnA 답변관리</router-link>\r\n                      </li>\r\n                    </ul>\r\n                  </li>\r\n                  <li>\r\n                    <router-link to=\"/schedule-admin\">스케쥴 관리</router-link>\r\n                  </li>\r\n                  <li>\r\n                    <router-link to=\"/payment-admin\">예매 내역</router-link>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div class=\"user-fav\">\r\n                <ul>\r\n                  <li><a href=\"#\" @click=\"logout\">Log out</a></li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- <!— 왼쪽 메뉴바 끝 —> -->\r\n          <div class=\"col-md-9 col-sm-12 col-xs-12\">\r\n            <div class=\"topbar-filter\" style=\"margin-bottom: 3%\">\r\n              <h3 style=\"color: aliceblue\">QnA 관리</h3>\r\n              <p style=\"color: aliceblue; float: right\">\r\n                답변완료버튼 클릭시 답변내용 확인가능\r\n              </p>\r\n            </div>\r\n\r\n            <!-- 전체정렬 -->\r\n\r\n            <!--qna 전체 테이블 시작 (list)  -->\r\n            <div class=\"movie-item-style-2 userrate\">\r\n              <div class=\"mv-item-infor\">\r\n                <table class=\"notice_table\">\r\n                  <colgroup>\r\n                    <col style=\"width: 5%\" />\r\n                    <col style=\"width: 10%\" />\r\n                    <col style=\"width: 20%\" />\r\n                    <col style=\"width: 40%\" />\r\n                    <col style=\"width: 10%\" />\r\n                  </colgroup>\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">번호</th>\r\n                      <th scope=\"col\">ID</th>\r\n                      <th scope=\"col\">제목</th>\r\n                      <th scope=\"col\">내용</th>\r\n                      <th scope=\"col\">답변상태</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr\r\n                      v-for=\"(currentQna, index) in question.qna\"\r\n                      v-bind:key=\"index\"\r\n                    >\r\n                      <td>{{ currentQna.qid }}</td>\r\n                      <td>{{ currentQna.qwriter }}</td>\r\n                      <td>{{ currentQna.qtitle }}</td>\r\n                      <td>{{ currentQna.qcontent }}</td>\r\n                      <!-- <td>{{ currentQna.qanswer }}</td> -->\r\n                      <td>\r\n                        <button\r\n                          v-if=\"currentQna.qanswer == null\"\r\n                          class=\"regbtn\"\r\n                          @click=\"setActiveNotice(currentQna, index)\"\r\n                        >\r\n                          답변하기\r\n                        </button>\r\n                        <button\r\n                          v-if=\"currentQna.qanswer == null\"\r\n                          class=\"deletebtn\"\r\n                          @click=\"deleteQna(currentQna.qid)\"\r\n                        >\r\n                          삭제하기\r\n                        </button>\r\n                        <button\r\n                          v-if=\"currentQna.qanswer != null\"\r\n                          class=\"successbtn\"\r\n                          @click=\"checkingQna(currentQna.qid)\"\r\n                        >\r\n                          답변완료\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n            <!--qna 전체조회 테이블 끝  -->\r\n          </div>\r\n          <!--qna 답변작성 폼 시작 (add)-->\r\n          <div v-show=\"registerQna\">\r\n            <table class=\"answertable\">\r\n              <colgroup>\r\n                <col style=\"width: auto\" />\r\n              </colgroup>\r\n              <tbody>\r\n                <tr>\r\n                  <th scope=\"row\" class=\"noticelabel\">\r\n                    |\r\n                    <label for=\"textarea\">답변내용</label>\r\n                  </th>\r\n                  <td colspan=\"5\">\r\n                    <div class=\"textarea\">\r\n                      <textarea\r\n                        id=\"textarea\"\r\n                        name=\"custInqCn\"\r\n                        rows=\"5\"\r\n                        cols=\"30\"\r\n                        title=\"내용입력\"\r\n                        class=\"input-textarea boxing\"\r\n                        placeholder=\"내용을 입력해주세요.\"\r\n                        v-model=\"qnaanswer\"\r\n                      ></textarea>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            <div class=\"search\">\r\n              <button type=\"button\" class=\"regbtn2\" @click=\"registerAnswer()\">\r\n                등록하기\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <!--qna 작성 폼 끝 -->\r\n\r\n          <!-- 답변 확인 창 시작 -->\r\n          <div v-show=\"checkQna\">\r\n            <table class=\"answertable\">\r\n              <colgroup>\r\n                <col style=\"width: auto\" />\r\n              </colgroup>\r\n              <tbody>\r\n                <tr>\r\n                  <th scope=\"row\" class=\"noticelabel\">\r\n                    |\r\n                    <label for=\"text\">답변내용</label>\r\n                  </th>\r\n                  <td colspan=\"5\">\r\n                    <div class=\"checkqna\">\r\n                      <td>{{ replyQna.qanswer }}</td>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 답변 확인 창 끝 -->\r\n\r\n        <!-- <!— 페이징 + 전체 목록 시작 —> -->\r\n        <!-- <!— 페이징 양식 시작 —> -->\r\n        <div class=\"col-md-12\">\r\n          <b-pagination\r\n            v-model=\"page\"\r\n            :total-rows=\"question.totalItems\"\r\n            :per-page=\"pageSize\"\r\n            prev-text=\"Prev\"\r\n            next-text=\"Next\"\r\n            @change=\"handlePageChange\"\r\n          ></b-pagination>\r\n        </div>\r\n        <!-- <!— 페이징 양식 끝 —> -->\r\n        <!-- 필터 페이지네이션 -->\r\n      </div>\r\n    </div>\r\n    <!-- TODO: 탑버튼 추가_정주희 -->\r\n    <a class=\"topbutton\" href=\"#\">\r\n      <img src=\"@/assets/images_jung/iconUp_48.png\"/>\r\n    </a>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport QnaDataService from \"@/services/QnaDataService\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      question: [],\r\n      textarea: \"\",\r\n      searchSelect: \"\",\r\n      searchKeyword: \"\",\r\n      registerQna: false,\r\n      board: false,\r\n      editQna: [],\r\n      currentQna: null,\r\n      checkQna: false,\r\n      qnaanswer: \"\",\r\n\r\n      replyQna: {},\r\n\r\n      //페이징을 위한 변수 정의\r\n      page: 1,\r\n      count: 0,\r\n      pageSize: 5,\r\n\r\n      pageSizes: [3, 6, 9],\r\n    };\r\n  },\r\n  methods: {\r\n    logout() {\r\n      this.$store.dispatch(\"auth/logout\");\r\n      this.$router.push(\"/\");\r\n    },\r\n    handlePageChange(value) {\r\n      this.page = value;\r\n      this.retrieveQna();\r\n    },\r\n\r\n    //전체조회\r\n    retrieveQna() {\r\n      QnaDataService.getAll(\r\n        this.searchSelect,\r\n        this.searchKeyword,\r\n        this.page - 1,\r\n        this.pageSize\r\n      )\r\n        .then((response) => {\r\n          this.question = response.data;\r\n          console.log(response.data);\r\n          console.log(this.question);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n\r\n    //왼쪽 메뉴바 slide효과\r\n    boardclick() {\r\n      this.board = !this.board;\r\n    },\r\n\r\n    //답변 등록하기 버튼 클릭시\r\n    registerAnswer() {\r\n      if (this.qnaanswer != \"\") {\r\n        this.editQna.qanswer = this.qnaanswer;\r\n        QnaDataService.update(this.editQna.qid, this.editQna)\r\n          .then((response) => {\r\n            // var test = this.editQna;\r\n            // alert(JSON.stringify(test));\r\n            console.log(response.data);\r\n            alert(\"답변이 완료되었습니다.\");\r\n            this.registerQna = false;\r\n            this.qnaanswer = \"\";\r\n            this.retrieveQna();\r\n          })\r\n          .catch((e) => {\r\n            console.log(e);\r\n          });\r\n      } else {\r\n        alert(\"내용을 입력해주세요.\");\r\n        this.successAnswer = false;\r\n      }\r\n    },\r\n\r\n    //답변하기 버튼 클릭시\r\n    setActiveNotice(data, index) {\r\n      this.editQna = data;\r\n      this.currentIndex = index;\r\n      this.registerQna = !this.registerQna;\r\n      this.successAnswer = false;\r\n      // var test = this.editQna;\r\n      // alert(JSON.stringify(test));\r\n    },\r\n\r\n    //삭제하기 버튼 클릭시\r\n    deleteQna(qid) {\r\n      // this.currentQna = data;\r\n      // var test = this.currentQna.qid;\r\n      // alert(JSON.stringify(test));\r\n      QnaDataService.delete(qid)\r\n        .then((response) => {\r\n          console.log(response.data);\r\n          alert(\"삭제되었습니다.\");\r\n          this.retrieveQna();\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n\r\n    //qna 확인창da\r\n    checkingQna(qid) {\r\n      this.checkQna = !this.checkQna;\r\n      QnaDataService.get(qid)\r\n        .then((response) => {\r\n          this.replyQna = response.data[0];\r\n          console.log(this.replyQna);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.retrieveQna();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nth,\r\ntd {\r\n  color: aliceblue;\r\n  border-bottom: 1px solid aliceblue;\r\n}\r\ntextarea {\r\n  width: 100%;\r\n  height: 6.25em;\r\n  border: none;\r\n  resize: none;\r\n  // margin-left: 20%;\r\n}\r\n.regbtn {\r\n  background: #F5B409;\r\n  color: black;\r\n  border-radius: 5px;\r\n  vertical-align: middle !important;\r\n}\r\nbutton {\r\n  border: none !important;\r\n}\r\nbutton:active {\r\n  outline: none !important;\r\n  box-shadow: none !important;\r\n}\r\n.successbtn {\r\n  background: rgb(83, 255, 74);\r\n  color: black;\r\n  border-radius: 5px;\r\n  vertical-align: middle !important;\r\n}\r\n.topbar-filter {\r\n  border-top: none !important;\r\n}\r\n.user-hero {\r\n  height: 385px;\r\n  // background: url(\"../images/uploads/user-hero-bg.jpg\") no-repeat;\r\n  background: url(\"../../assets/images_kang/Components/common/Navcom/back-img-test16.png\") no-repeat;\r\n}\r\n.deletebtn {\r\n  background: #DD003F!important;\r\n  color: aliceblue !important;\r\n  border-radius: 5px;\r\n  margin-top: 6%;\r\n}\r\n.topbar-filter p {\r\n    padding-right: 0 !important;\r\n    margin-bottom: 0;\r\n}\r\n.answertable{\r\n  width: 80%;\r\n  margin-left:20%;\r\n}\r\n.regbtn2{\r\n  background:#F5B409;\r\n  color: black;\r\n  border-radius: 5px;\r\n  vertical-align: middle !important;\r\n  margin-left: 20% ;\r\n  width: 100px;\r\n  height:25px;\r\n}\r\nh4 {\r\n  color: aliceblue;\r\n  margin-right: 10%;\r\n}\r\n\r\n/* 탑버튼 추가 _정주희 */\r\n.topbutton {\r\n  position: fixed;\r\n  bottom: 15px;\r\n  right: 15px;\r\n  width: 40px;\r\n  height: 40px;\r\n  z-index: 1;\r\n  opacity: 0.8;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}