{"ast":null,"code":"/* eslint-disable */\nimport custom from \"@/assets/js/custom.js\";\nimport SeatView from \"@/views/kim/SeatView.vue\";\nimport Wishlist from \"@/model/Wishlist\";\nimport WishlistDataService from \"@/services/WishlistDataService\";\nexport default {\n  mounted() {\n    custom();\n    this.changeUrl();\n    window.scrollTo({\n      top: 1300,\n      behavior: \"smooth\"\n    });\n    this.getWishlist();\n  },\n  components: {\n    SeatView\n  },\n  props: [\"movieProps\"],\n  data() {\n    return {\n      wishlist: [],\n      seatPage: false,\n      currentMovie: this.movieProps,\n      changedUrl: \"\",\n      mYear: 0\n    };\n  },\n  methods: {\n    showSeatPage() {\n      if (this.$store.state.auth.user == null) {\n        alert(\"로그인이 필요한 서비스 입니다.\");\n      } else {\n        this.seatPage = !this.seatPage;\n      }\n    },\n    changeUrl() {\n      // TODO: 배경에 유튜브 비디오를 넣기 위해서 주소에서 필요한 부분만 잘라와야 합니다.\n      const cutYoutubeUrl = this.currentMovie.utubeurl.substring(17); // ex.kihrFxwdMb4\n      // 다른 주소랑 붙여주기\n      this.changedUrl = \"https://www.youtube.com/embed/\" + cutYoutubeUrl + \"?rel=0&loop=1&playlist=\" + cutYoutubeUrl + \"&autoplay=1&mute=1\";\n\n      // 연도 짜르기 추가\n      this.mYear = this.currentMovie.opendt.substr(0, 4);\n    },\n    likeSave() {\n      // alert(\"저장되었습니다. 마이페이지에서 확인 가능합니다 :)\");\n      if (this.wishlist.username == null) {\n        // alert(\"get\");\n        this.wishlist = new Wishlist();\n        this.wishlist.username = this.$store.state.auth.user.username;\n        this.wishlist.moviecd = this.currentMovie.moviecd;\n        this.wishlist.movienm = this.currentMovie.movienm;\n        this.wishlist.posterurln = this.currentMovie.posterurln;\n        this.wishlist.raiting = this.currentMovie.raiting;\n        this.wishlist.opendt = this.currentMovie.opendt;\n        WishlistDataService.create(this.wishlist).then(res => {\n          this.wishlist = res.data;\n          console.log(\"wishlist: \", this.wishlist);\n          // alert(\"create\");\n          // this.getWishlist();\n        }).catch(err => {\n          console.log(err);\n        });\n      } else {\n        WishlistDataService.delete(this.wishlist.wid).then(res => {\n          console.log(res.data);\n          // alert(\"Delete\");\n          this.getWishlist();\n          // alert(this.wishlist);\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    },\n    getWishlist() {\n      WishlistDataService.get(this.$store.state.auth.user.username, this.currentMovie.moviecd).then(res => {\n        if (!res.data) {\n          this.wishlist = new Wishlist();\n        } else {\n          this.wishlist = res.data[0];\n        }\n        console.log(this.$store.state.auth.user.username);\n        console.log(this.$route.params.moviecd);\n        // console.log(res.data);\n        console.log(\"wishlist: \", this.wishlist);\n        // alert(\"get\");\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAqIA;AACA;AACA;AACA;AACA;AACA;EACAA;IACAC;IACA;IACAC;MAAAC;MAAAC;IAAA;IACA;EACA;EACAC;IACAC;EACA;EACAC;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;QACAC;MAEA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA,kBACA,mCACAC,gBACA,4BACAA,gBACA;;MAEA;MACA;IACA;IACAC;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QAEAC,0CACAC;UACA;UACAC;UACA;UACA;QACA,GACAC;UACAD;QACA;MACA;QACAF,8CACAC;UACAC;UACA;UACA;UACA;QACA,GACAC;UACAD;QACA;MACA;IACA;IACAE;MACAJ,wBACA,sCACA,0BACA,CACAC;QACA;UACA;QACA;UACA;QACA;QAEAC;QACAA;QACA;QACAA;QACA;MACA,GACAC;QACAD;MACA;IACA;EACA;AACA","names":["mounted","custom","window","top","behavior","components","SeatView","props","data","wishlist","seatPage","currentMovie","changedUrl","mYear","methods","showSeatPage","alert","changeUrl","cutYoutubeUrl","likeSave","WishlistDataService","then","console","catch","getWishlist"],"sourceRoot":"src/views/choi","sources":["MainDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <!-- TODO: 메인에서 영화 클릭시 나오는 페이지 입니다. (유튜브 동영상 연결) -->\r\n    <!-- 배경 검정 div -->\r\n    <div style=\"background: black\">\r\n      <!-- 비디오 test -->\r\n      <div class=\"mainMovie\" style=\"background: black\">\r\n        <div class=\"container parent\">\r\n          <div class=\"cover01\"></div>\r\n          <div class=\"cover02\"></div>\r\n          <div class=\"cover03\"></div>\r\n          <!-- <div class=\"close-button\"></div> -->\r\n          <!-- 동영상 위 글자 시작 -->\r\n          <div class=\"slider sliderv2\">\r\n            <div class=\"container\">\r\n              <div class=\"row\">\r\n                <div class=\"slider-single-item\">\r\n                  <div class=\"movie-item\">\r\n                    <div class=\"row\">\r\n                      <div class=\"col-xs-12 title-detail\">\r\n                        <div\r\n                          class=\"title-in col-xs-12\"\r\n                          style=\"padding-top: 50px; width: 1000px\"\r\n                        >\r\n                          <h1 class=\"col-xs-12\" style=\"width: 1000px\">\r\n                            <!--              movie.prdtyear 를 opendt로 변경 아직 안함(의도는 개봉년도이나, prdtyear는 제작연도로, 올빼미 등의 경우 2021로 표기됨 FIXME: 정주희 수정-->\r\n                            <a\r\n                              >{{ currentMovie.movienm\r\n                              }}<span>{{ mYear }}</span></a\r\n                            >\r\n                          </h1>\r\n                          <div\r\n                            class=\"social-btn col-xs-12\"\r\n                            style=\"padding-top: 2%; width: 1000px; height: 50px\"\r\n                          >\r\n                            <router-link\r\n                              :to=\"'/allMovie/' + currentMovie.moviecd\"\r\n                              class=\"parent-btn\"\r\n                              ><i class=\"ion-play\"></i>상세보기 ></router-link\r\n                            >\r\n                            <!--                            <a href=\"#\" class=\"parent-btn\" @click=\"likeSave\"-->\r\n                            <!--                              ><i class=\"ion-ios-heart-outline\"></i>찜하기</a-->\r\n                            <!--                            >-->\r\n\r\n                            <a\r\n                              v-show=\"wishlist.username == null\"\r\n                              class=\"parent-btn\"\r\n                              @click=\"likeSave\"\r\n                              ><i class=\"ion-ios-heart-outline\"></i>찜하기</a\r\n                            >\r\n                            <a\r\n                              v-show=\"wishlist.username != null\"\r\n                              class=\"parent-btn\"\r\n                              @click=\"likeSave\"\r\n                              ><i class=\"ion-ios-heart\"></i>찜하기 완료</a\r\n                            >\r\n\r\n                            <a class=\"parent-btn\" id=\"sh-link\"\r\n                              ><i class=\"ion-android-share-alt\"></i>공유하기</a\r\n                            >\r\n                          </div>\r\n                          <div\r\n                            class=\"mv-details col-xs-12\"\r\n                            style=\"width: 1000px; margin-bottom: 0px\"\r\n                          >\r\n                            <p>\r\n                              <i class=\"ion-android-star\"></i\r\n                              ><span>{{ currentMovie.raiting }}</span> /10\r\n                            </p>\r\n                            <ul class=\"mv-infor\">\r\n                              <li>{{ currentMovie.opendt }} 개봉</li>\r\n                              <li>{{ currentMovie.showtm }} 분</li>\r\n                            </ul>\r\n                          </div>\r\n                          <div\r\n                            class=\"btn-transform transform-vertical col-xs-12\"\r\n                            style=\"width: 1000px\"\r\n                          >\r\n                            <div class=\"col-xs-12\">\r\n                              <a\r\n                                @click=\"showSeatPage\"\r\n                                class=\"item item-1 redbtn\"\r\n                                >예매하기</a\r\n                              >\r\n                            </div>\r\n                            <div class=\"col-xs-12\">\r\n                              <a\r\n                                class=\"item item-2 redbtn hvrbtn\"\r\n                                @click=\"showSeatPage\"\r\n                                >예매하기</a\r\n                              >\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- 동영상 위 글자 끝 -->\r\n          <!-- :src=\"changedUrl\" -->\r\n          <iframe\r\n            class=\"video col-xs-12\"\r\n            :src=\"changedUrl\"\r\n            title=\"YouTube video player\"\r\n            frameborder=\"0\"\r\n            allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\r\n            allowfullscreen\r\n          ></iframe>\r\n          <!-- 영화 줄거리 시작 -->\r\n          <div class=\"short-details col-xs-12\" style=\"width: 1000px\">\r\n            <div\r\n              class=\"short-detail01\"\r\n              style=\"padding-top: 0px; margin-top: 0px\"\r\n            >\r\n              {{ currentMovie.plot }}\r\n            </div>\r\n          </div>\r\n          <!-- 영화 줄거리 끝 -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- TODO: 예매페이지뷰 컴포넌트 추가 시작 -->\r\n    <div v-if=\"seatPage\">\r\n      <SeatView :movieProps2=\"currentMovie\" />\r\n    </div>\r\n    <!-- 예매페이지뷰 컴포넌트 추가 끝 -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable */\r\nimport custom from \"@/assets/js/custom.js\";\r\nimport SeatView from \"@/views/kim/SeatView.vue\";\r\nimport Wishlist from \"@/model/Wishlist\";\r\nimport WishlistDataService from \"@/services/WishlistDataService\";\r\nexport default {\r\n  mounted() {\r\n    custom();\r\n    this.changeUrl();\r\n    window.scrollTo({ top: 1300, behavior: \"smooth\" });\r\n    this.getWishlist();\r\n  },\r\n  components: {\r\n    SeatView,\r\n  },\r\n  props: [\"movieProps\"],\r\n  data() {\r\n    return {\r\n      wishlist: [],\r\n      seatPage: false,\r\n      currentMovie: this.movieProps,\r\n      changedUrl: \"\",\r\n      mYear: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    showSeatPage() {\r\n      if (this.$store.state.auth.user == null) {\r\n        alert(\"로그인이 필요한 서비스 입니다.\");\r\n\r\n      } else {\r\n        this.seatPage = !this.seatPage;\r\n      }\r\n    },\r\n    changeUrl() {\r\n      // TODO: 배경에 유튜브 비디오를 넣기 위해서 주소에서 필요한 부분만 잘라와야 합니다.\r\n      const cutYoutubeUrl = this.currentMovie.utubeurl.substring(17); // ex.kihrFxwdMb4\r\n      // 다른 주소랑 붙여주기\r\n      this.changedUrl =\r\n        \"https://www.youtube.com/embed/\" +\r\n        cutYoutubeUrl +\r\n        \"?rel=0&loop=1&playlist=\" +\r\n        cutYoutubeUrl +\r\n        \"&autoplay=1&mute=1\";\r\n\r\n      // 연도 짜르기 추가\r\n      this.mYear = this.currentMovie.opendt.substr(0, 4);\r\n    },\r\n    likeSave() {\r\n      // alert(\"저장되었습니다. 마이페이지에서 확인 가능합니다 :)\");\r\n      if (this.wishlist.username == null) {\r\n        // alert(\"get\");\r\n        this.wishlist = new Wishlist();\r\n        this.wishlist.username = this.$store.state.auth.user.username;\r\n        this.wishlist.moviecd = this.currentMovie.moviecd;\r\n        this.wishlist.movienm = this.currentMovie.movienm;\r\n        this.wishlist.posterurln = this.currentMovie.posterurln;\r\n        this.wishlist.raiting = this.currentMovie.raiting;\r\n        this.wishlist.opendt = this.currentMovie.opendt;\r\n\r\n        WishlistDataService.create(this.wishlist)\r\n          .then((res) => {\r\n            this.wishlist = res.data;\r\n            console.log(\"wishlist: \", this.wishlist);\r\n            // alert(\"create\");\r\n            // this.getWishlist();\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      } else {\r\n        WishlistDataService.delete(this.wishlist.wid)\r\n          .then((res) => {\r\n            console.log(res.data);\r\n            // alert(\"Delete\");\r\n            this.getWishlist();\r\n            // alert(this.wishlist);\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      }\r\n    },\r\n    getWishlist() {\r\n      WishlistDataService.get(\r\n        this.$store.state.auth.user.username,\r\n        this.currentMovie.moviecd\r\n      )\r\n        .then((res) => {\r\n          if (!res.data) {\r\n            this.wishlist = new Wishlist();\r\n          } else {\r\n            this.wishlist = res.data[0];\r\n          }\r\n\r\n          console.log(this.$store.state.auth.user.username);\r\n          console.log(this.$route.params.moviecd);\r\n          // console.log(res.data);\r\n          console.log(\"wishlist: \", this.wishlist);\r\n          // alert(\"get\");\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 비디오 css */\r\n.parent {\r\n  position: relative;\r\n  /* padding-bottom: 40%; */\r\n  padding-bottom: 56.25%;\r\n}\r\n.cover01 {\r\n  /* 그라데이션 주는 css */\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 3;\r\n  content: \" \";\r\n  background-image: linear-gradient(\r\n    to right,\r\n    #000 0%,\r\n    rgba(0, 0, 0, 0.35) 25%,\r\n    rgba(0, 0, 0, 0) 50%,\r\n    rgba(0, 0, 0, 0.35) 75%,\r\n    #000 100%\r\n  );\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n\r\n.cover02 {\r\n  /* 영상 윗 부분 잘라주는 css */\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 10%;\r\n  z-index: 3;\r\n  background-color: black;\r\n}\r\n\r\n.cover03 {\r\n  position: absolute;\r\n  top: 80%;\r\n  width: 100%;\r\n  height: 20%;\r\n  z-index: 3;\r\n  background-color: black;\r\n}\r\n\r\n.short-details {\r\n  position: absolute;\r\n  top: 82%;\r\n  z-index: 3;\r\n}\r\n\r\n.short-detail01 {\r\n  position: absolute;\r\n  text-align: left;\r\n  color: white;\r\n}\r\n\r\n.video {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}