{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport ReviewDataService from \"@/services/ReviewDataService\";\nimport MovieDataService from \"@/services/MovieDataService\";\nexport default {\n  data() {\n    return {\n      board: false,\n      selected: \"\",\n      review: [],\n      movienm: \"\",\n      movie: [],\n      selectMovienm: \"\",\n      currentIndex: -1,\n      //페이징을 위한 변수 정의\n      page: 1,\n      count: 0,\n      pageSize: 10,\n      pageSizes: [3, 6, 9]\n    };\n  },\n  methods: {\n    logout() {\n      this.$store.dispatch(\"auth/logout\");\n      this.$router.push(\"/\");\n    },\n    //왼쪽 메뉴바 slide효과\n    boardclick() {\n      this.board = !this.board;\n    },\n    handlePageChange(value) {\n      this.page = value;\n      this.retrieveReview();\n    },\n    // select박스 선택시 함수실행 \n    retrieveReview() {\n      ReviewDataService.getAll(this.movienm, this.page - 1, this.pageSize).then(response => {\n        const review = response.data;\n        this.review = review;\n        //     var test = response.data;\n        // alert(JSON.stringify(test));\n        console.log(response.data);\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    //삭제버튼 클릭시\n    deletebtn(data) {\n      this.review = data;\n      // var test = this.review.rid;\n      //     alert(JSON.stringify(test));\n      ReviewDataService.delete(this.review.rid).then(response => {\n        console.log(response.data);\n        alert(\"삭제가 완료되었습니다.\");\n        this.retrieveReview();\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    //셀렉트박스 영화이름 가져오는 함수\n    retrieveMovie() {\n      MovieDataService.getMovieAll().then(response => {\n        const movie = response.data;\n        this.movie = movie;\n        console.log(response.data);\n        // console.log(this.movie);\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n  },\n  mounted() {\n    this.retrieveReview();\n    this.retrieveMovie();\n  }\n};","map":{"version":3,"mappings":";AA6JA;AACA;AACA;EACAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEA;MACAC;MACAC;MACAC;MAEAC;IACA;EACA;EACAC;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IAEAC;MACA;MACA;IACA;IACA;IACAC;MACAC,qEACAC;QACA;QACA;QACA;QACA;QACAC;MACA,GACAC;QACAD;MACA;IACA;IAEA;IACAE;MACA;MACA;MACA;MACAJ,0CACAC;QACAC;QACAG;QACA;MACA,GACAF;QACAD;MACA;IACA;IAEA;IACAI;MACAC,+BACAN;QACA;QACA;QACAC;QACA;MACA,GACAC;QACAD;MACA;IACA;EACA;EACAM;IACA;IACA;EACA;AACA","names":["data","board","selected","review","movienm","movie","selectMovienm","currentIndex","page","count","pageSize","pageSizes","methods","logout","boardclick","handlePageChange","retrieveReview","ReviewDataService","then","console","catch","deletebtn","alert","retrieveMovie","MovieDataService","mounted"],"sourceRoot":"src/components/admin","sources":["ReviewAdmin.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"hero user-hero\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n            <div class=\"hero-ct\">\r\n              <h1>ADMIN PAGE</h1>\r\n              <h4>리뷰관리 페이지</h4>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"page-single\">\r\n      <div class=\"container\">\r\n        <div class=\"row ipad-width2\">\r\n          <!-- <!— 왼쪽 메뉴바 시작 —> -->\r\n          <div class=\"col-md-3 col-sm-12 col-xs-12\">\r\n            <div class=\"user-information\">\r\n              <div class=\"user-fav\">\r\n                <p>관리자 목록</p>\r\n                <ul>\r\n                  <li>\r\n                    <router-link to=\"/userInfoAdmin\">회원관리</router-link>\r\n                  </li>\r\n                  <li>\r\n                    <a href=\"#\"></a>\r\n                    <a\r\n                      class=\"btn btn-default dropdown-toggle\"\r\n                      data-toggle=\"dropdown\"\r\n                      @click=\"boardclick\"\r\n                    >\r\n                      게시판관리\r\n                      <i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i>\r\n                    </a>\r\n                    <ul class=\"dropdown\" v-show=\"board\">\r\n                      <li>\r\n                        <router-link to=\"/board-admin\"\r\n                          >공지사항 관리</router-link\r\n                        >\r\n                      </li>\r\n                      <li>\r\n                        <router-link to=\"/movie-admin\">영화 관리</router-link>\r\n                      </li>\r\n                      <li class=\"active\">\r\n                        <router-link to=\"/review-admin\">리뷰관리</router-link>\r\n                      </li>\r\n                      <li>\r\n                        <router-link to=\"/qna-admin\">QnA 답변관리</router-link>\r\n                      </li>\r\n                    </ul>\r\n                  </li>\r\n                  <li>\r\n                    <router-link to=\"/schedule-admin\">스케쥴 관리</router-link>\r\n                  </li>\r\n                  <li>\r\n                    <router-link to=\"/payment-admin\">예매 내역</router-link>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div class=\"user-fav\">\r\n                <ul>\r\n                  <li><a href=\"#\" @click=\"logout\">Log out</a></li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- <!— 왼쪽 메뉴바 끝 —> -->\r\n\r\n          <div class=\"col-md-9 col-sm-12 col-xs-12\">\r\n            <div class=\"topbar-filter\">\r\n              <h3 style=\"color: aliceblue\">리뷰 관리</h3>\r\n              <select\r\n                id=\"select_value\"\r\n                name=\"selectBox\"\r\n                v-model=\"movienm\"\r\n                @change=\"retrieveReview\"\r\n              >\r\n                <option selected value=\"\">전체</option>\r\n                <option v-for=\"(data, index) in movie\" v-bind:key=\"index\">\r\n                  {{ data.movienm }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n\r\n            <!-- 전체정렬 -->\r\n            <!--리뷰 테이블 관리 시작 (list)  -->\r\n            <div class=\"movie-item-style-2 userrate\">\r\n              <div class=\"mv-item-infor\">\r\n                <table class=\"notice_table\">\r\n                  <colgroup>\r\n                    <col style=\"width: 5%\" />\r\n                    <col style=\"width: 15%\" />\r\n                    <col style=\"width: 15%\" />\r\n                    <col style=\"width: 55%\" />\r\n                    <col style=\"width: 15%\" />\r\n                    <col style=\"width: 15%\" />\r\n                  </colgroup>\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">NO</th>\r\n                      <th scope=\"col\">영화명</th>\r\n                      <th scope=\"col\">작성자 ID</th>\r\n                      <th scope=\"col\">리뷰</th>\r\n                      <th scope=\"col\">등록시간</th>\r\n                      <th scope=\"col\">Delete Btn</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr\r\n                      v-for=\"(data, index) in review.review\"\r\n                      v-bind:key=\"index\"\r\n                    >\r\n                      <td>{{ data.rid }}</td>\r\n                      <td>{{ data.movienm }}</td>\r\n                      <td>{{ data.rwuser }}</td>\r\n                      <td>{{ data.rucontent }}</td>\r\n                      <td>{{ data.insertTime }}</td>\r\n\r\n                      <td>\r\n                        <button class=\"deletebtn\" @click=\"deletebtn(data)\">\r\n                          삭제\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n            <!--리뷰 테이블 관리 테이블 끝  -->\r\n          </div>\r\n          <!-- <!— 페이징 + 전체 목록 시작 —> -->\r\n          <!-- <!— 페이징 양식 시작 —> -->\r\n          <div class=\"col-md-12\">\r\n            <b-pagination\r\n              v-model=\"page\"\r\n              :total-rows=\"review.totalItems\"\r\n              :per-page=\"pageSize\"\r\n              prev-text=\"Prev\"\r\n              next-text=\"Next\"\r\n              @change=\"handlePageChange\"\r\n            ></b-pagination>\r\n          </div>\r\n          <!-- <!— 페이징 양식 끝 —> -->\r\n          <!-- 필터 페이지네이션 -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- TODO: 탑버튼 추가_정주희 -->\r\n    <a class=\"topbutton\" href=\"#\">\r\n      <img src=\"@/assets/images_jung/iconUp_48.png\"/>\r\n    </a>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ReviewDataService from \"@/services/ReviewDataService\";\r\nimport MovieDataService from \"@/services/MovieDataService\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      board: false,\r\n      selected: \"\",\r\n      review: [],\r\n      movienm: \"\",\r\n      movie: [],\r\n      selectMovienm: \"\",\r\n      currentIndex: -1,\r\n\r\n      //페이징을 위한 변수 정의\r\n      page: 1,\r\n      count: 0,\r\n      pageSize: 10,\r\n\r\n      pageSizes: [3, 6, 9],\r\n    };\r\n  },\r\n  methods: {\r\n    logout() {\r\n      this.$store.dispatch(\"auth/logout\");\r\n      this.$router.push(\"/\");\r\n    },\r\n    //왼쪽 메뉴바 slide효과\r\n    boardclick() {\r\n      this.board = !this.board;\r\n    },\r\n\r\n    handlePageChange(value) {\r\n      this.page = value;\r\n      this.retrieveReview();\r\n    },\r\n    // select박스 선택시 함수실행 \r\n    retrieveReview() {\r\n      ReviewDataService.getAll(this.movienm, this.page - 1, this.pageSize)\r\n        .then((response) => {\r\n          const review = response.data;\r\n          this.review = review;\r\n          //     var test = response.data;\r\n          // alert(JSON.stringify(test));\r\n          console.log(response.data);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n\r\n    //삭제버튼 클릭시\r\n    deletebtn(data) {\r\n      this.review = data;\r\n      // var test = this.review.rid;\r\n      //     alert(JSON.stringify(test));\r\n      ReviewDataService.delete(this.review.rid)\r\n        .then((response) => {\r\n          console.log(response.data);\r\n          alert(\"삭제가 완료되었습니다.\");\r\n          this.retrieveReview();\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n\r\n    //셀렉트박스 영화이름 가져오는 함수\r\n    retrieveMovie() {\r\n      MovieDataService.getMovieAll()\r\n        .then((response) => {\r\n          const movie = response.data;\r\n          this.movie = movie;\r\n          console.log(response.data);\r\n          // console.log(this.movie);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.retrieveReview();\r\n    this.retrieveMovie();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nth {\r\n  color: aliceblue;\r\n  border: 1px solid aliceblue;\r\n  //border-right: 2px solid aliceblue;\r\n  text-align: center;\r\n}\r\ntd {\r\n  color: aliceblue;\r\n  border-bottom: 1px solid aliceblue;\r\n  text-align: center;\r\n  vertical-align: middle !important;\r\n}\r\n.deletebtn {\r\n  background: #dd003f;\r\n  color: aliceblue;\r\n  border-radius: 3px !important;\r\n  box-shadow: none !important;\r\n  width: 50%;\r\n}\r\nbutton {\r\n  border: none !important;\r\n}\r\nbutton:active {\r\n  outline: none !important;\r\n  box-shadow: none !important;\r\n}\r\n.user-hero {\r\n  height: 385px;\r\n  // background: url(\"../images/uploads/user-hero-bg.jpg\") no-repeat;\r\n  background: url(\"../../assets/images_kang/Components/common/Navcom/back-img-test16.png\") no-repeat;\r\n}\r\n//셀렉트박스 width 조정  icon 수정\r\n.topbar-filter select{\r\n  width: 35% !important;\r\n  background: url(../../../public/images/uploads/drop-icon.png) no-repeat right 20px center;\r\n\r\n}\r\nh4 {\r\n  color: aliceblue;\r\n  margin-right: 10%;\r\n}\r\n\r\n/* 탑버튼 추가 _정주희 */\r\n.topbutton {\r\n  position: fixed;\r\n  bottom: 15px;\r\n  right: 15px;\r\n  width: 40px;\r\n  height: 40px;\r\n  z-index: 1;\r\n  opacity: 0.8;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}